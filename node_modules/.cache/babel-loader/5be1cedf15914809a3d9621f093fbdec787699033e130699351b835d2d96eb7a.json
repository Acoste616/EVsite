{"ast":null,"code":"import React,{useState,useEffect,useRef,createContext,useContext}from'react';import{initializeApp}from'firebase/app';import{getAuth,onAuthStateChanged,createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,GoogleAuthProvider,signInWithPopup,getAdditionalUserInfo}from'firebase/auth';import{getFirestore,collection,getDocs,doc,getDoc,addDoc,updateDoc,deleteDoc,query,onSnapshot,setDoc}from'firebase/firestore';import{getStorage,ref,uploadBytes,getDownloadURL,deleteObject}from'firebase/storage';import{ShoppingCart,User,Star,Menu,X,Trash2,Plus,Minus,Truck,CreditCard,ShieldCheck,Filter,LogOut,Settings,Zap,AlertCircle,CheckCircle}from'lucide-react';import{motion,AnimatePresence}from'framer-motion';import'./index.css';// Import obrazów dla kategorii\nimport categoryChargers from'./assets/images/category-chargers.jpg';import categoryAdapters from'./assets/images/category-adapters.jpg';import categoryAccessories from'./assets/images/category-accessories.jpg';import categoryBatteries from'./assets/images/category-batteries.jpg';// --- KONFIGURACJA FIREBASE (POPRAWIONA) ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const firebaseConfig={apiKey:'AIzaSyC6L-8owWH1z6Ipf2FZax7gZ7FQOvuSNJs',authDomain:'evshop-6719a.firebaseapp.com',projectId:'evshop-6719a',storageBucket:'evshop-6719a.firebasestorage.app',messagingSenderId:'619247072748',appId:'1:619247072748:web:ad274f442dba53736cbcc9',measurementId:'G-Z80X8YRR4L'};// Inicjalizacja Firebase\nconst app=initializeApp(firebaseConfig);const auth=getAuth(app);const db=getFirestore(app);const storage=getStorage(app);const logoUrl=`${process.env.PUBLIC_URL}/logo.png`;const defaultProductImageUrl=`${process.env.PUBLIC_URL}/default-product.png`;const heroImageUrl='https://images.unsplash.com/photo-1619623697969-9f15038c1a16?q=80&w=2070&auto=format&fit=crop';const categoriesData=[{name:'Ładowarki',image:categoryChargers},{name:'Adaptery',image:categoryAdapters},{name:'Akcesoria',image:categoryAccessories},{name:'Baterie',image:categoryBatteries}];// --- SAMPLE TESLA PRODUCTS ---\nconst sampleTeslaProducts=[{id:'tesla-wall-connector',name:'Tesla Wall Connector Gen 3',price:2499,category:'Ładowarki',brand:'Tesla',rating:4.9,bestseller:true,description:'Najszybsza ładowarka domowa Tesla z mocą do 11.5 kW. Idealna do codziennego użytku domowego.',imageUrls:['https://images.unsplash.com/photo-1593941707882-a5bac6861d75?q=80&w=800&auto=format&fit=crop','https://images.unsplash.com/photo-1558618666-fcd25c85cd64?q=80&w=800&auto=format&fit=crop']},{id:'tesla-mobile-connector',name:'Tesla Mobile Connector',price:899,category:'Ładowarki',brand:'Tesla',rating:4.8,bestseller:true,description:'Przenośna ładowarka Tesla z adapterami do różnych gniazdek. Niezbędna w każdej podróży.',imageUrls:['https://images.unsplash.com/photo-1609592606436-c0e3d0c4b3b9?q=80&w=800&auto=format&fit=crop','https://images.unsplash.com/photo-1621784377641-2c1a2c7a4b91?q=80&w=800&auto=format&fit=crop']},{id:'tesla-chademo-adapter',name:'Tesla CHAdeMO Adapter',price:1299,category:'Adaptery',brand:'Tesla',rating:4.7,description:'Adapter CHAdeMO umożliwiający ładowanie Tesla na stacjach CHAdeMO o mocy do 50 kW.',imageUrls:['https://images.unsplash.com/photo-1626668011687-8a114d5c1604?q=80&w=800&auto=format&fit=crop']},{id:'tesla-j1772-adapter',name:'Tesla J1772 Adapter',price:399,category:'Adaptery',brand:'Tesla',rating:4.6,description:'Adapter J1772 pozwalający na ładowanie Tesla na publicznych stacjach J1772.',imageUrls:['https://images.unsplash.com/photo-1558618666-fcd25c85cd64?q=80&w=800&auto=format&fit=crop']},{id:'tesla-supercharger-cable',name:'Tesla Supercharger Cable (zapasowy)',price:699,category:'Akcesoria',brand:'Tesla',rating:4.8,description:'Zapasowy kabel do ładowarki Tesla Supercharger. Wytrzymały i niezawodny.',imageUrls:['https://images.unsplash.com/photo-1609592606436-c0e3d0c4b3b9?q=80&w=800&auto=format&fit=crop']},{id:'tesla-powerwall',name:'Tesla Powerwall 2',price:28999,category:'Baterie',brand:'Tesla',rating:4.9,bestseller:true,description:'Domowa bateria Tesla Powerwall 2 o pojemności 13,5 kWh. Zapewnia niezależność energetyczną.',imageUrls:['https://images.unsplash.com/photo-1497435334941-8c899ee9e8e9?q=80&w=800&auto=format&fit=crop']},{id:'tesla-model-s-floor-mats',name:'Tesla Model S - Dywaniki podłogowe',price:459,category:'Akcesoria',brand:'Tesla',rating:4.5,description:'Oryginalne dywaniki podłogowe Tesla Model S. Idealne dopasowanie i wysoka jakość.',imageUrls:['https://images.unsplash.com/photo-1549924231-f129b911e442?q=80&w=800&auto=format&fit=crop']},{id:'tesla-model-3-trunk-mat',name:'Tesla Model 3 - Mata bagażnika',price:299,category:'Akcesoria',brand:'Tesla',rating:4.4,description:'Wodoodporna mata bagażnika dla Tesla Model 3. Chroni przed zabrudzeniem i wilgocią.',imageUrls:['https://images.unsplash.com/photo-1549924231-f129b911e442?q=80&w=800&auto=format&fit=crop']},{id:'tesla-wireless-charger',name:'Tesla Wireless Phone Charger',price:329,category:'Akcesoria',brand:'Tesla',rating:4.3,description:'Bezprzewodowa ładowarka do telefonu Tesla. Kompatybilna z Model S, 3, X i Y.',imageUrls:['https://images.unsplash.com/photo-1594736797933-d0401ba4b7c0?q=80&w=800&auto=format&fit=crop']},{id:'tesla-gen2-mobile-connector',name:'Tesla Gen 2 Mobile Connector Bundle',price:1299,category:'Ładowarki',brand:'Tesla',rating:4.8,description:'Kompletny zestaw Gen 2 Mobile Connector z adapterami NEMA 14-50, 5-15 i J1772.',imageUrls:['https://images.unsplash.com/photo-1609592606436-c0e3d0c4b3b9?q=80&w=800&auto=format&fit=crop']}];// --- API SERWIS (LIVE) ---\n// Funkcje do interakcji z Firebase\nconst api={fetchProducts:async()=>{try{const productsCol=collection(db,'products');const snapshot=await getDocs(productsCol);const firebaseProducts=snapshot.docs.map(doc=>({id:doc.id,...doc.data()}));// Jeśli baza danych jest pusta, zwróć sample produkty Tesla\nif(firebaseProducts.length===0){return sampleTeslaProducts;}// Połącz produkty z Firebase z sample produktami Tesla\nconst allProducts=[...firebaseProducts,...sampleTeslaProducts];// Usuń duplikaty na podstawie ID\nconst uniqueProducts=allProducts.filter((product,index,self)=>index===self.findIndex(p=>p.id===product.id));return uniqueProducts;}catch(error){console.error('Błąd podczas pobierania produktów:',error);// W przypadku błędu, zwróć sample produkty Tesla\nreturn sampleTeslaProducts;}},fetchCategories:async()=>{return categoriesData;},fetchProduct:async id=>{const docRef=doc(db,'products',id);const docSnap=await getDoc(docRef);return docSnap.exists()?{id:docSnap.id,...docSnap.data()}:null;},getReviews:(productId,callback)=>{const reviewsQuery=query(collection(db,`products/${productId}/reviews`));return onSnapshot(reviewsQuery,snapshot=>{const reviews=snapshot.docs.map(doc=>({id:doc.id,...doc.data()}));callback(reviews);});},addReview:async(productId,review)=>{await addDoc(collection(db,`products/${productId}/reviews`),review);},uploadImage:async file=>{const storageRef=ref(storage,`products/${Date.now()}_${file.name}`);await uploadBytes(storageRef,file);return getDownloadURL(storageRef);},deleteImage:async imageUrl=>{// Zapobiegaj próbie usunięcia przykładowych zdjęć z unsplash\nif(imageUrl.includes('unsplash.com')){console.log('Próba usunięcia przykładowego zdjęcia - operacja zignorowana.');return;}try{const imageRef=ref(storage,imageUrl);await deleteObject(imageRef);}catch(error){if(error.code==='storage/object-not-found'){console.warn('Próbowano usunąć obraz, który nie istnieje w Firebase Storage:',imageUrl);}else{throw error;}}},// Funkcje dla admina\naddProduct:async product=>addDoc(collection(db,'products'),product),updateProduct:async(id,product)=>updateDoc(doc(db,'products',id),product),deleteProduct:async id=>deleteDoc(doc(db,'products',id)),fetchOrders:async()=>{const ordersCol=collection(db,'orders');const snapshot=await getDocs(ordersCol);return snapshot.docs.map(doc=>({id:doc.id,...doc.data()}));},updateOrderStatus:async(id,status)=>updateDoc(doc(db,'orders',id),{status})};// --- CONTEXT API ---\nconst AppContext=/*#__PURE__*/createContext();export const useAppContext=()=>useContext(AppContext);// Centrum powiadomień\nconst NotificationCenter=_ref=>{let{notifications}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-5 right-5 z-50\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:notifications.map(note=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-20,scale:0.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:50,scale:0.9},transition:{duration:0.4},className:`mb-2 p-4 rounded-lg shadow-xl text-white ${note.type==='error'?'bg-red-600':'bg-green-600'}`,children:note.message},note.id))})});};// Ekran ładowania\nconst LoadingScreen=()=>/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(Zap,{className:\"text-blue-400 w-16 h-16 animate-pulse\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white mt-4 text-lg\",children:\"\\u0141adowanie...\"})]})});// --- KOMPONENTY UI ---\nconst Header=_ref2=>{let{isMobileMenuOpen,setIsMobileMenuOpen}=_ref2;const{user,userRole,cartItemCount,navigate,handleLogout}=useAppContext();return/*#__PURE__*/_jsxs(\"header\",{className:\"bg-gray-900 bg-opacity-80 text-white p-4 flex items-center justify-between fixed top-0 left-0 right-0 z-40 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('home'),className:\"cursor-pointer\",children:/*#__PURE__*/_jsx(\"img\",{src:logoUrl,alt:\"EV-Shop Logo\",className:\"h-10\"})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"hidden md:flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('category','Ładowarki'),className:\"hover:text-blue-400 transition-colors\",children:\"\\u0141adowarki\"}),/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('category','Adaptery'),className:\"hover:text-blue-400 transition-colors\",children:\"Adaptery\"}),/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('category','Akcesoria'),className:\"hover:text-blue-400 transition-colors\",children:\"Akcesoria\"}),/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('category','Baterie'),className:\"hover:text-blue-400 transition-colors\",children:\"Baterie\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"a\",{onClick:()=>navigate('cart'),className:\"relative cursor-pointer group\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"h-7 w-7 text-gray-400 group-hover:text-blue-400 transition-colors\"}),cartItemCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse\",children:cartItemCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:()=>user?null:navigate('login'),className:\"cursor-pointer\",children:/*#__PURE__*/_jsx(User,{className:\"h-7 w-7 text-gray-400 group-hover:text-blue-400 transition-colors\"})}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-56 bg-gray-800 border border-gray-700 rounded-md shadow-lg py-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"px-4 py-2 text-sm text-gray-400 border-b border-gray-700\",children:\"Zalogowano jako:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"px-4 pt-1 pb-2 text-sm text-white truncate\",children:user.email}),userRole==='admin'&&/*#__PURE__*/_jsxs(\"a\",{onClick:()=>navigate('admin'),className:\"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-4 h-4 mr-2\"}),\"Panel Admina\"]}),/*#__PURE__*/_jsxs(\"a\",{onClick:handleLogout,className:\"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4 mr-2\"}),\"Wyloguj\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-md shadow-lg py-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('login'),className:\"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer\",children:\"Zaloguj si\\u0119\"}),/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('register'),className:\"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer\",children:\"Zarejestruj si\\u0119\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsMobileMenuOpen(!isMobileMenuOpen),children:isMobileMenuOpen?/*#__PURE__*/_jsx(X,{className:\"h-7 w-7\"}):/*#__PURE__*/_jsx(Menu,{className:\"h-7 w-7\"})})})]})]});};const Footer=()=>/*#__PURE__*/_jsxs(\"footer\",{className:\"bg-gray-900 text-gray-400 py-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto grid grid-cols-2 md:grid-cols-4 gap-8 px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-white mb-4\",children:\"EV-Shop\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Twoje \\u017Ar\\xF3d\\u0142o energii dla mobilno\\u015Bci.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-white mb-4\",children:\"Kategorie\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"hover:text-white\",children:\"\\u0141adowarki\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"hover:text-white\",children:\"Adaptery\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"hover:text-white\",children:\"Akcesoria\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"hover:text-white\",children:\"Baterie\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-white mb-4\",children:\"Obs\\u0142uga Klienta\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"hover:text-white\",children:\"Kontakt\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"hover:text-white\",children:\"FAQ\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"hover:text-white\",children:\"Dostawa i zwroty\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-white mb-4\",children:\"Newsletter\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Tw\\xF3j e-mail\",className:\"bg-gray-800 p-2 rounded w-full mb-2\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white py-2 px-4 rounded w-full hover:bg-blue-700\",children:\"Zapisz si\\u0119\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-8 pt-8 border-t border-gray-800\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2024 EV-Shop. Wszystkie prawa zastrze\\u017Cone.\"})})]});const ProductCard=_ref3=>{let{product,navigate}=_ref3;return/*#__PURE__*/_jsxs(motion.div,{layout:true,initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.9},transition:{duration:0.3},onClick:()=>navigate('product',product.id),className:\"bg-gray-800 rounded-lg overflow-hidden shadow-lg cursor-pointer group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-56\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.imageUrls[0]||defaultProductImageUrl,alt:product.name,className:\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"}),product.bestseller&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 left-2 bg-yellow-500 text-gray-900 px-2 py-1 text-xs font-bold rounded\",children:\"BESTSELLER\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white truncate\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm mb-2\",children:[product.brand,\" - \",product.category]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-blue-400\",children:[product.price,\" PLN\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Star,{className:\"w-5 h-5 text-yellow-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white ml-1\",children:product.rating})]})]})]})]});};const BestsellersSection=_ref4=>{let{products,navigate}=_ref4;const featuredProducts=products.filter(p=>p.bestseller).slice(0,4);return/*#__PURE__*/_jsxs(\"section\",{className:\"py-20\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center mb-12 text-white\",children:\"Bestsellery\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\",children:featuredProducts.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,navigate:navigate},product.id))})]});};const CategoriesSection=_ref5=>{let{categories,navigate}=_ref5;return/*#__PURE__*/_jsx(\"section\",{className:\"py-20 bg-gray-800 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold text-center mb-12\",children:\"Przegl\\u0105daj Kategorie\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8\",children:categories.map((category,index)=>/*#__PURE__*/_jsx(motion.div,{className:\"category-card bg-gray-900 rounded-lg overflow-hidden shadow-lg cursor-pointer group\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:index*0.1},onClick:()=>navigate('category',category.name),children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-64\",children:[/*#__PURE__*/_jsx(\"img\",{src:category.image,alt:category.name,className:\"w-full h-full object-cover transition-transform duration-300 transform group-hover:scale-105\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-2xl font-bold\",children:category.name})})]})},category.name))})]})});};const FeaturedInfoSection=()=>/*#__PURE__*/_jsx(\"section\",{className:\"py-20 bg-gray-900 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-8\",children:\"Dlaczego EV-Shop?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(Truck,{className:\"w-12 h-12 mx-auto text-blue-400 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"Szybka Dostawa\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Twoje zam\\xF3wienie dotrze do Ciebie w mgnieniu oka.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(CreditCard,{className:\"w-12 h-12 mx-auto text-blue-400 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"Bezpieczne P\\u0142atno\\u015Bci\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Gwarantujemy bezpiecze\\u0144stwo Twoich transakcji.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(ShieldCheck,{className:\"w-12 h-12 mx-auto text-blue-400 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"Gwarancja Jako\\u015Bci\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Oferujemy tylko sprawdzone i certyfikowane produkty.\"})]})]})]})});const HomePage=_ref6=>{let{products,categories,navigate}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeroSection,{navigate:navigate}),/*#__PURE__*/_jsxs(\"main\",{id:\"products-section\",className:\"container mx-auto p-4 -mt-24 relative z-10 bg-gray-900 rounded-t-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(BestsellersSection,{products:products,navigate:navigate}),/*#__PURE__*/_jsx(CategoriesSection,{categories:categories,navigate:navigate}),/*#__PURE__*/_jsx(FeaturedInfoSection,{})]})]});};const CategoryPage=_ref7=>{let{navigate,products,categoryName}=_ref7;const[filteredProducts,setFilteredProducts]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[priceRange,setPriceRange]=useState([0,30000]);const[brands,setBrands]=useState([]);const[selectedBrands,setSelectedBrands]=useState([]);const[sortBy,setSortBy]=useState('rating_desc');useEffect(()=>{const categoryProducts=products.filter(p=>p.category===categoryName);const availableBrands=[...new Set(categoryProducts.map(p=>p.brand))];setBrands(availableBrands);setSelectedBrands(availableBrands);setFilteredProducts(categoryProducts);// Ustaw początkowe produkty\n},[products,categoryName]);useEffect(()=>{let tempProducts=products.filter(p=>p.category===categoryName);// Wyszukiwanie\nif(searchTerm){tempProducts=tempProducts.filter(p=>p.name.toLowerCase().includes(searchTerm.toLowerCase()));}// Filtracja po cenie\ntempProducts=tempProducts.filter(p=>p.price>=priceRange[0]&&p.price<=priceRange[1]);// Filtracja po marce\ntempProducts=tempProducts.filter(p=>selectedBrands.includes(p.brand));// Sortowanie\ntempProducts.sort((a,b)=>{switch(sortBy){case'price_asc':return a.price-b.price;case'price_desc':return b.price-a.price;case'rating_desc':return b.rating-a.rating;default:return 0;}});setFilteredProducts(tempProducts);},[products,categoryName,searchTerm,priceRange,selectedBrands,sortBy]);const handleBrandChange=brand=>{setSelectedBrands(prev=>prev.includes(brand)?prev.filter(b=>b!==brand):[...prev,brand]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-24 p-4 text-white\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-8 text-center\",children:categoryName}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-4 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1 bg-gray-800 p-6 rounded-lg h-fit\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-semibold mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(Filter,{className:\"mr-2\"}),\"Filtry\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-2\",children:\"Szukaj\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nazwa produktu...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full p-2 bg-gray-700 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block mb-2\",children:[\"Cena: \",priceRange[0],\" - \",priceRange[1],\" PLN\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"30000\",step:\"100\",value:priceRange[1],onChange:e=>setPriceRange([priceRange[0],Number(e.target.value)]),className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:\"Marka\"}),brands.map(brand=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:brand,checked:selectedBrands.includes(brand),onChange:()=>handleBrandChange(brand),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:brand,children:brand})]},brand))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-2\",children:\"Sortuj wed\\u0142ug\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"w-full p-2 bg-gray-700 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"rating_desc\",children:\"Ocena malej\\u0105co\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price_asc\",children:\"Cena rosn\\u0105co\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price_desc\",children:\"Cena malej\\u0105co\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-3\",children:[/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\",children:filteredProducts.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,navigate:navigate},product.id))})}),filteredProducts.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-400 mt-10\",children:\"Brak produkt\\xF3w spe\\u0142niaj\\u0105cych kryteria.\"})]})]})]});};const ReviewsSection=_ref8=>{let{productId,reviews}=_ref8;const{user}=useAppContext();const[newReview,setNewReview]=useState({rating:5,text:''});const handleReviewSubmit=async e=>{e.preventDefault();if(!user){alert('Musisz być zalogowany, aby dodać opinię.');return;}if(!newReview.text){alert('Opinia nie może być pusta.');return;}await api.addReview(productId,{...newReview,author:user.email,createdAt:new Date()});setNewReview({rating:5,text:''});};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold mb-4\",children:[\"Opinie klient\\xF3w (\",reviews.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:reviews.map(review=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:`w-5 h-5 ${i<review.rating?'text-yellow-400':'text-gray-600'}`},i))}),/*#__PURE__*/_jsx(\"p\",{className:\"ml-4 font-semibold\",children:review.author})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:review.text})]},review.id))}),user&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleReviewSubmit,className:\"mt-8 bg-gray-800 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl font-semibold mb-4\",children:\"Dodaj swoj\\u0105 opini\\u0119\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Twoja ocena:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex ml-4\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:`w-6 h-6 cursor-pointer ${i<newReview.rating?'text-yellow-400':'text-gray-600'}`,onClick:()=>setNewReview({...newReview,rating:i+1})},i))})]}),/*#__PURE__*/_jsx(\"textarea\",{value:newReview.text,onChange:e=>setNewReview({...newReview,text:e.target.value}),placeholder:\"Twoja opinia...\",className:\"w-full p-2 bg-gray-700 rounded h-24 mb-4\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",children:\"Dodaj opini\\u0119\"})]})]});};const ProductPage=_ref9=>{let{navigate,productId}=_ref9;const[product,setProduct]=useState(null);const[reviews,setReviews]=useState([]);const[isLoading,setIsLoading]=useState(true);const[activeImage,setActiveImage]=useState(0);const{addToCart}=useAppContext();useEffect(()=>{const fetchData=async()=>{setIsLoading(true);const productData=await api.fetchProduct(productId);setProduct(productData);setIsLoading(false);};fetchData();const unsubscribe=api.getReviews(productId,setReviews);return()=>unsubscribe();},[productId]);if(isLoading)return/*#__PURE__*/_jsx(LoadingScreen,{});if(!product)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-24 text-white\",children:\"Produkt nie zosta\\u0142 znaleziony.\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-24 p-4 text-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-12\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative h-96 bg-gray-800 rounded-lg mb-4\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imageUrls[activeImage],alt:product.name,className:\"w-full h-full object-contain\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:product.imageUrls.map((url,index)=>/*#__PURE__*/_jsx(\"img\",{src:url,alt:`${product.name} thumbnail ${index+1}`,onClick:()=>setActiveImage(index),className:`w-24 h-24 object-cover rounded-md cursor-pointer border-2 ${activeImage===index?'border-blue-500':'border-transparent'}`},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold mb-2\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 mb-4\",children:[product.brand,\" - \",product.category]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:`w-5 h-5 ${i<product.rating?'text-yellow-400':'text-gray-600'}`},i))}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2\",children:[\"(\",reviews.length,\" opinii)\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-blue-400 mb-6\",children:[product.price,\" PLN\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-6\",children:product.description}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>addToCart(product),className:\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center text-lg\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"mr-2\"}),\" Dodaj do koszyka\"]})]})]}),/*#__PURE__*/_jsx(ReviewsSection,{productId:productId,reviews:reviews})]});};const CartPage=_ref0=>{let{navigate}=_ref0;const{cart,updateCartQuantity,removeFromCart,clearCart}=useAppContext();const totalPrice=cart.reduce((acc,item)=>acc+item.price*item.quantity,0);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-24 p-4 text-white\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-8\",children:\"Tw\\xF3j Koszyk\"}),cart.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Koszyk jest pusty.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",children:\"Wr\\xF3\\u0107 do sklepu\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2 space-y-4\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-gray-800 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.imageUrls[0],alt:item.name,className:\"w-24 h-24 object-cover rounded-md mr-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400\",children:[item.price,\" PLN\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateCartQuantity(item.id,item.quantity-1),disabled:item.quantity<=1,className:\"p-1 bg-gray-700 rounded\",children:/*#__PURE__*/_jsx(Minus,{})}),/*#__PURE__*/_jsx(\"span\",{className:\"w-12 text-center\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateCartQuantity(item.id,item.quantity+1),className:\"p-1 bg-gray-700 rounded\",children:/*#__PURE__*/_jsx(Plus,{})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"w-24 text-right font-semibold\",children:[item.price*item.quantity,\" PLN\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFromCart(item.id),className:\"ml-4 text-gray-400 hover:text-red-500\",children:/*#__PURE__*/_jsx(Trash2,{})})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1 bg-gray-800 p-6 rounded-lg h-fit\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Podsumowanie\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Suma cz\\u0119\\u015Bciowa:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[totalPrice.toFixed(2),\" PLN\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Dostawa:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"GRATIS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between font-bold text-xl border-t border-gray-700 pt-4 mt-4\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Do zap\\u0142aty:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[totalPrice.toFixed(2),\" PLN\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('checkout'),className:\"w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg\",children:\"Przejd\\u017A do kasy\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearCart,className:\"w-full mt-2 bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded-lg\",children:\"Wyczy\\u015B\\u0107 koszyk\"})]})]})]});};const CheckoutPage=_ref1=>{let{navigate}=_ref1;const{cart,user,clearCart,addNotification,setOrderDetails}=useAppContext();const[shippingInfo,setShippingInfo]=useState({name:'',address:'',city:'',zip:'',country:'Polska'});const[currentStep,setCurrentStep]=useState(1);const handleChange=e=>{setShippingInfo({...shippingInfo,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();if(currentStep===1){setCurrentStep(2);}else if(currentStep===2){// Logika płatności (symulacja)\nsetCurrentStep(3);try{const orderData={userId:user?user.uid:'guest',items:cart,total:cart.reduce((acc,item)=>acc+item.price*item.quantity,0),shippingInfo,status:'Nowe',createdAt:new Date()};const docRef=await addDoc(collection(db,'orders'),orderData);setOrderDetails({...orderData,id:docRef.id});clearCart();addNotification('Zamówienie złożone pomyślnie!','success');navigate('order-confirmation');}catch(error){addNotification('Błąd podczas składania zamówienia.','error');console.error('Błąd zapisu zamówienia:',error);setCurrentStep(2);// Wróć do płatności w razie błędu\n}}};const ProgressBar=_ref10=>{let{currentStep}=_ref10;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center w-full mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`flex-1 text-center ${currentStep>=1?'text-blue-400':'text-gray-500'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto w-8 h-8 rounded-full border-2 flex items-center justify-center mb-1\",children:\"1\"}),\"Dostawa\"]}),/*#__PURE__*/_jsx(\"div\",{className:`flex-1 h-0.5 ${currentStep>=2?'bg-blue-400':'bg-gray-700'}`}),/*#__PURE__*/_jsxs(\"div\",{className:`flex-1 text-center ${currentStep>=2?'text-blue-400':'text-gray-500'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto w-8 h-8 rounded-full border-2 flex items-center justify-center mb-1\",children:\"2\"}),\"P\\u0142atno\\u015B\\u0107\"]}),/*#__PURE__*/_jsx(\"div\",{className:`flex-1 h-0.5 ${currentStep>=3?'bg-blue-400':'bg-gray-700'}`}),/*#__PURE__*/_jsxs(\"div\",{className:`flex-1 text-center ${currentStep>=3?'text-blue-400':'text-gray-500'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto w-8 h-8 rounded-full border-2 flex items-center justify-center mb-1\",children:\"3\"}),\"Potwierdzenie\"]})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-24 p-4 text-white\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-8 text-center\",children:\"Zam\\xF3wienie\"}),/*#__PURE__*/_jsx(ProgressBar,{currentStep:currentStep}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"max-w-lg mx-auto bg-gray-800 p-8 rounded-lg\",children:[/*#__PURE__*/_jsxs(AnimatePresence,{mode:\"wait\",children:[currentStep===1&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-6\",children:\"Adres dostawy\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:shippingInfo.name,onChange:handleChange,placeholder:\"Imi\\u0119 i nazwisko\",className:\"w-full p-2 bg-gray-700 rounded mb-4\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"address\",value:shippingInfo.address,onChange:handleChange,placeholder:\"Adres\",className:\"w-full p-2 bg-gray-700 rounded mb-4\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"city\",value:shippingInfo.city,onChange:handleChange,placeholder:\"Miasto\",className:\"w-full p-2 bg-gray-700 rounded mb-4\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"zip\",value:shippingInfo.zip,onChange:handleChange,placeholder:\"Kod pocztowy\",className:\"w-full p-2 bg-gray-700 rounded mb-4\",required:true})]},\"step1\"),currentStep===2&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-6\",children:\"P\\u0142atno\\u015B\\u0107\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-400 mb-4\",children:\"Symulacja p\\u0142atno\\u015Bci. Kliknij, aby sfinalizowa\\u0107.\"})]},\"step2\"),currentStep===3&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-6 text-center\",children:\"Przetwarzanie...\"}),/*#__PURE__*/_jsx(LoadingScreen,{})]},\"step3\")]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg\",children:currentStep===1?'Przejdź do płatności':'Zapłać i zamów'})]})]});};const OrderConfirmationPage=_ref11=>{let{navigate,orderDetails}=_ref11;return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-24 p-4 text-white text-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-24 h-24 mx-auto text-green-500 mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-4\",children:\"Dzi\\u0119kujemy za zam\\xF3wienie!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-300 mb-8\",children:[\"Twoje zam\\xF3wienie #\",orderDetails.id.slice(0,8),\" zosta\\u0142o przyj\\u0119te.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto bg-gray-800 p-6 rounded-lg text-left mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Szczeg\\xF3\\u0142y zam\\xF3wienia\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",orderDetails.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ca\\u0142kowita kwota:\"}),\" \",orderDetails.total.toFixed(2),\" PLN\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Adres dostawy:\"}),\" \",orderDetails.shippingInfo.address,\",\",' ',orderDetails.shippingInfo.city]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg\",children:\"Wr\\xF3\\u0107 na stron\\u0119 g\\u0142\\xF3wn\\u0105\"})]});};const AccessDenied=_ref12=>{let{navigate}=_ref12;return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-24 p-4 text-white text-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-24 h-24 mx-auto text-red-500 mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-4\",children:\"Brak dost\\u0119pu\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-300 mb-8\",children:\"Nie masz uprawnie\\u0144 do przegl\\u0105dania tej strony.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg\",children:\"Wr\\xF3\\u0107 na stron\\u0119 g\\u0142\\xF3wn\\u0105\"})]});};const LoginPage=_ref13=>{let{navigate,addNotification}=_ref13;const[credentials,setCredentials]=useState({email:'',password:''});const[error,setError]=useState('');const{setUser}=useAppContext();const handleGoogleLogin=async()=>{const provider=new GoogleAuthProvider();try{const userCredential=await signInWithPopup(auth,provider);const additionalUserInfo=getAdditionalUserInfo(userCredential);// Create user doc only if they are a new user from Google Sign-In\nif(additionalUserInfo!==null&&additionalUserInfo!==void 0&&additionalUserInfo.isNewUser){await setDoc(doc(db,'users',userCredential.user.uid),{email:userCredential.user.email,role:'user',createdAt:new Date()});}addNotification('Zalogowano pomyślnie!','success');navigate('home');}catch(error){setError('Błąd logowania przez Google.');addNotification('Błąd logowania przez Google.','error');}};const handleLogin=async e=>{e.preventDefault();try{const userCredential=await signInWithEmailAndPassword(auth,credentials.email,credentials.password);setUser(userCredential.user);addNotification('Zalogowano pomyślnie!','success');navigate('home');}catch(error){setError('Nieprawidłowy email lub hasło.');addNotification('Nieprawidłowy email lub hasło.','error');}};const handleChange=e=>{setCredentials({...credentials,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-900 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center\",children:\"Logowanie\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-center\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",onChange:handleChange,className:\"w-full p-3 bg-gray-700 rounded\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Has\\u0142o\",onChange:handleChange,className:\"w-full p-3 bg-gray-700 rounded\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full p-3 bg-blue-600 rounded font-bold hover:bg-blue-700\",children:\"Zaloguj\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-400\",children:\"lub\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGoogleLogin,className:\"w-full p-3 bg-red-600 rounded font-bold hover:bg-red-700 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Google_%22G%22_logo.svg/768px-Google_%22G%22_logo.svg.png\",alt:\"Google\",className:\"w-5 h-5 mr-2\"}),\"Zaloguj przez Google\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('register'),className:\"font-medium text-blue-400 hover:text-blue-300 cursor-pointer\",children:\"Nie masz konta? Zarejestruj si\\u0119\"})})]})});};const RegisterPage=_ref14=>{let{navigate,addNotification}=_ref14;const[credentials,setCredentials]=useState({email:'',password:'',confirmPassword:''});const[error,setError]=useState('');const{setUser}=useAppContext();const handleRegister=async e=>{e.preventDefault();if(credentials.password!==credentials.confirmPassword){setError('Hasła nie są zgodne.');return;}try{const userCredential=await createUserWithEmailAndPassword(auth,credentials.email,credentials.password);// Ustawienie domyślnej roli 'user' dla nowego użytkownika\nawait setDoc(doc(db,'users',userCredential.user.uid),{email:userCredential.user.email,role:'user',createdAt:new Date()});setUser(userCredential.user);addNotification('Rejestracja pomyślna!','success');navigate('home');}catch(error){setError('Błąd rejestracji. Sprawdź, czy email jest poprawny.');addNotification('Błąd rejestracji.','error');}};const handleChange=e=>{setCredentials({...credentials,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-900 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center\",children:\"Rejestracja\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-center\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",onChange:handleChange,className:\"w-full p-3 bg-gray-700 rounded\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Has\\u0142o\",onChange:handleChange,className:\"w-full p-3 bg-gray-700 rounded\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",placeholder:\"Potwierd\\u017A has\\u0142o\",onChange:handleChange,className:\"w-full p-3 bg-gray-700 rounded\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full p-3 bg-blue-600 rounded font-bold hover:bg-blue-700\",children:\"Zarejestruj\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('login'),className:\"font-medium text-blue-400 hover:text-blue-300 cursor-pointer\",children:\"Masz ju\\u017C konto? Zaloguj si\\u0119\"})})]})});};const AdminPanel=_ref15=>{let{navigate}=_ref15;const[activeTab,setActiveTab]=useState('dashboard');const{userRole}=useAppContext();if(userRole!=='admin'){return/*#__PURE__*/_jsx(AccessDenied,{navigate:navigate});}const renderContent=()=>{switch(activeTab){case'dashboard':return/*#__PURE__*/_jsx(AdminDashboard,{});case'products':return/*#__PURE__*/_jsx(AdminProducts,{});case'orders':return/*#__PURE__*/_jsx(AdminOrders,{});default:return/*#__PURE__*/_jsx(AdminDashboard,{});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-24 p-4 text-white\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-8\",children:\"Panel Administratora\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-700 mb-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('dashboard'),className:`py-2 px-4 ${activeTab==='dashboard'?'border-b-2 border-blue-500 text-blue-400':'text-gray-400'}`,children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('products'),className:`py-2 px-4 ${activeTab==='products'?'border-b-2 border-blue-500 text-blue-400':'text-gray-400'}`,children:\"Produkty\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('orders'),className:`py-2 px-4 ${activeTab==='orders'?'border-b-2 border-blue-500 text-blue-400':'text-gray-400'}`,children:\"Zam\\xF3wienia\"})]}),/*#__PURE__*/_jsx(\"div\",{children:renderContent()})]});};const AdminDashboard=()=>{const[stats,setStats]=useState({products:0,orders:0,users:0,revenue:0});useEffect(()=>{const fetchStats=async()=>{const products=await getDocs(collection(db,'products'));const orders=await getDocs(collection(db,'orders'));const users=await getDocs(collection(db,'users'));const totalRevenue=orders.docs.reduce((acc,doc)=>acc+doc.data().total,0);setStats({products:products.size,orders:orders.size,users:users.size,revenue:totalRevenue});};fetchStats();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-400\",children:\"Produkty\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold\",children:stats.products})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-400\",children:\"Zam\\xF3wienia\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold\",children:stats.orders})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-400\",children:\"U\\u017Cytkownicy\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold\",children:stats.users})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-400\",children:\"Przych\\xF3d\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold\",children:[stats.revenue.toFixed(2),\" PLN\"]})]})]});};const AdminProducts=()=>{const[products,setProducts]=useState([]);const[isModalOpen,setIsModalOpen]=useState(false);const[editingProduct,setEditingProduct]=useState(null);const[isLoading,setIsLoading]=useState(false);const{addNotification}=useAppContext();useEffect(()=>{fetchProducts();},[]);const fetchProducts=async()=>{setIsLoading(true);const productsCol=query(collection(db,'products'));const snapshot=await getDocs(productsCol);setProducts(snapshot.docs.map(doc=>({id:doc.id,...doc.data()})));setIsLoading(false);};const handleSave=async productData=>{setIsLoading(true);try{// Funkcja do czyszczenia pustych wartości, które nie są obsługiwane przez Firestore\nconst cleanData=data=>{const cleaned={};for(const key in data){if(data[key]!==null&&data[key]!==undefined&&data[key]!==''){cleaned[key]=data[key];}}// Upewnij się, że imageUrls jest tablicą\ncleaned.imageUrls=Array.isArray(cleaned.imageUrls)?cleaned.imageUrls:[];return cleaned;};const finalData=cleanData(productData);if(editingProduct){await api.updateProduct(editingProduct.id,finalData);addNotification('Produkt zaktualizowany!','success');}else{await api.addProduct(finalData);addNotification('Produkt dodany!','success');}fetchProducts();}catch(error){console.error('Błąd zapisu produktu:',error);addNotification(`Błąd zapisu: ${error.message}`,'error');}setIsModalOpen(false);setEditingProduct(null);setIsLoading(false);};const handleDelete=async id=>{if(window.confirm('Czy na pewno chcesz usunąć ten produkt?')){try{// Najpierw usuń powiązane obrazy\nconst productToDelete=products.find(p=>p.id===id);if(productToDelete&&productToDelete.imageUrls){for(const url of productToDelete.imageUrls){await api.deleteImage(url);}}// Następnie usuń produkt\nawait api.deleteProduct(id);addNotification('Produkt usunięty!','success');fetchProducts();}catch(error){console.error('Błąd usuwania produktu:',error);addNotification(`Błąd usuwania: ${error.message}`,'error');}}};const handleEdit=product=>{setEditingProduct(product);setIsModalOpen(true);};const handleAddNew=()=>{setEditingProduct(null);setIsModalOpen(true);};if(isLoading)return/*#__PURE__*/_jsx(LoadingScreen,{});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddNew,className:\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4\",children:\"Dodaj nowy produkt\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-left\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"Nazwa\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"Kategoria\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"Cena\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"Akcje\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-700\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-4\",children:product.name}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4\",children:product.category}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-4\",children:[product.price,\" PLN\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(product),className:\"text-blue-400 hover:text-blue-300 mr-2\",children:\"Edytuj\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(product.id),className:\"text-red-500 hover:text-red-400\",children:\"Usu\\u0144\"})]})]},product.id))})]})}),isModalOpen&&/*#__PURE__*/_jsx(ProductEditModal,{product:editingProduct,onSave:handleSave,onClose:()=>setIsModalOpen(false)})]});};const ProductEditModal=_ref16=>{let{product,onSave,onClose}=_ref16;const[productData,setProductData]=useState(product||{name:'',price:'',category:'',brand:'',description:'',imageUrls:[],bestseller:false});const[isUploading,setIsUploading]=useState(false);const{addNotification}=useAppContext();const handleChange=e=>{const{name,value,type,checked}=e.target;setProductData(prev=>({...prev,[name]:type==='checkbox'?checked:value}));};const handlePriceChange=e=>{setProductData(prev=>({...prev,price:parseFloat(e.target.value)||0}));};const handleImageUpload=async e=>{const file=e.target.files[0];if(file){setIsUploading(true);try{const url=await api.uploadImage(file);setProductData(prev=>({...prev,imageUrls:[...(prev.imageUrls||[]),url]}));addNotification('Zdjęcie dodane!','success');}catch(error){addNotification('Błąd przesyłania zdjęcia.','error');}setIsUploading(false);}};const handleImageDelete=async urlToDelete=>{if(window.confirm('Czy na pewno chcesz usunąć to zdjęcie?')){try{await api.deleteImage(urlToDelete);setProductData(prev=>({...prev,imageUrls:prev.imageUrls.filter(url=>url!==urlToDelete)}));addNotification('Zdjęcie usunięte!','success');}catch(error){console.error('Błąd usuwania zdjęcia:',error);addNotification('Błąd usuwania zdjęcia.','error');}}};const handleSubmit=e=>{e.preventDefault();onSave(productData);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 text-white rounded-lg p-8 w-full max-w-2xl max-h-screen overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:product?'Edytuj produkt':'Dodaj produkt'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:productData.name,onChange:handleChange,placeholder:\"Nazwa\",className:\"w-full p-2 bg-gray-700 rounded\"}),/*#__PURE__*/_jsx(\"input\",{name:\"price\",type:\"number\",value:productData.price,onChange:handlePriceChange,placeholder:\"Cena\",className:\"w-full p-2 bg-gray-700 rounded\"}),/*#__PURE__*/_jsx(\"input\",{name:\"category\",value:productData.category,onChange:handleChange,placeholder:\"Kategoria\",className:\"w-full p-2 bg-gray-700 rounded\"}),/*#__PURE__*/_jsx(\"input\",{name:\"brand\",value:productData.brand,onChange:handleChange,placeholder:\"Marka\",className:\"w-full p-2 bg-gray-700 rounded\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:productData.description,onChange:handleChange,placeholder:\"Opis\",className:\"w-full p-2 bg-gray-700 rounded h-24\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-2\",children:\"Zdj\\u0119cia:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-2 mb-2\",children:(productData.imageUrls||[]).map(url=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"img\",{src:url,alt:\"product\",className:\"w-full h-24 object-cover rounded\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleImageDelete(url),type:\"button\",className:\"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]},url))}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageUpload,className:\"w-full text-sm\"}),isUploading&&/*#__PURE__*/_jsx(\"p\",{children:\"Przesy\\u0142anie...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"bestseller\",name:\"bestseller\",checked:productData.bestseller,onChange:handleChange,className:\"mr-2\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bestseller\",children:\"Bestseller\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"py-2 px-4 bg-gray-600 rounded\",children:\"Anuluj\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"py-2 px-4 bg-blue-600 rounded\",children:\"Zapisz\"})]})]})]})});};const AdminOrders=()=>{const[orders,setOrders]=useState([]);useEffect(()=>{const fetchOrders=async()=>{const fetchedOrders=await api.fetchOrders();setOrders(fetchedOrders);};fetchOrders();},[]);const handleStatusChange=async(orderId,newStatus)=>{await api.updateOrderStatus(orderId,newStatus);setOrders(prev=>prev.map(o=>o.id===orderId?{...o,status:newStatus}:o));};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-left\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"ID Zam\\xF3wienia\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"Klient\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"Data\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"Suma\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-700\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"p-4\",children:[order.id.slice(0,8),\"...\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4\",children:order.shippingInfo.name}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4\",children:new Date(order.createdAt.seconds*1000).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-4\",children:[order.total.toFixed(2),\" PLN\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"select\",{value:order.status,onChange:e=>handleStatusChange(order.id,e.target.value),className:\"bg-gray-700 p-1 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Nowe\"}),/*#__PURE__*/_jsx(\"option\",{children:\"W trakcie realizacji\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Wys\\u0142ane\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Zako\\u0144czone\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Anulowane\"})]})})]},order.id))})]})});};const HeroSection=_ref17=>{let{navigate}=_ref17;return/*#__PURE__*/_jsxs(\"section\",{className:\"relative h-screen bg-cover bg-center flex flex-col items-center justify-center text-white\",style:{backgroundImage:`url(${heroImageUrl})`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black opacity-50\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 text-center container mx-auto px-4\",children:[/*#__PURE__*/_jsx(motion.h1,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1},className:\"text-4xl md:text-6xl font-extrabold mb-4\",children:\"Energia dla Twojej podr\\xF3\\u017Cy\"}),/*#__PURE__*/_jsx(motion.p,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:0.5},className:\"text-lg md:text-xl mb-8\",children:\"Najwy\\u017Cszej jako\\u015Bci \\u0142adowarki i akcesoria do pojazd\\xF3w elektrycznych.\"}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:()=>navigate('products'),className:\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300\",children:\"Odkryj produkty\"})]})]});};export default function App(){const[page,setPage]=useState('home');const[pageData,setPageData]=useState(null);const[user,setUser]=useState(null);const[userRole,setUserRole]=useState(null);const[cart,setCart]=useState([]);const[isMobileMenuOpen,setIsMobileMenuOpen]=useState(false);const[notifications,setNotifications]=useState([]);const[orderDetails,setOrderDetails]=useState(null);const[isLoading,setIsLoading]=useState(true);const[products,setProducts]=useState([]);const[categories,setCategories]=useState([]);const notificationId=useRef(0);// Ładowanie danych i nasłuchiwanie stanu autentykacji\nuseEffect(()=>{const unsubscribe=onAuthStateChanged(auth,async currentUser=>{setUser(currentUser);if(currentUser){const userDocRef=doc(db,'users',currentUser.uid);const userDoc=await getDoc(userDocRef);if(userDoc.exists()){// Użytkownik istnieje, wczytaj jego rolę\nsetUserRole(userDoc.data().role);}else{// Nie twórz dokumentu tutaj, aby uniknąć nadpisywania ról.\n// Tworzenie dokumentu jest teraz obsługiwane w `handleRegister` i `handleGoogleLogin`.\n// Warunek wyścigu może oznaczać, że dokument nie jest od razu dostępny.\n// Domyślne ustawienie \"user\" lokalnie jest bezpieczne.\nsetUserRole('user');}}else{setUserRole(null);}loadInitialData();// Przeładuj dane po zmianie użytkownika\n});return()=>unsubscribe();},[]);const loadInitialData=async()=>{setIsLoading(true);const[productsData,categoriesData]=await Promise.all([api.fetchProducts(),api.fetchCategories()]);setProducts(productsData);setCategories(categoriesData);setIsLoading(false);};// Obsługa koszyka\nuseEffect(()=>{const savedCart=localStorage.getItem('cart');if(savedCart){setCart(JSON.parse(savedCart));}},[]);useEffect(()=>{localStorage.setItem('cart',JSON.stringify(cart));},[cart]);const addNotification=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';const id=notificationId.current++;setNotifications(prev=>[...prev,{id,message,type}]);setTimeout(()=>{setNotifications(prev=>prev.filter(note=>note.id!==id));},3000);};const navigate=function(newPage){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;setPage(newPage);setPageData(data);window.scrollTo(0,0);setIsMobileMenuOpen(false);// Zamknij menu mobilne przy nawigacji\n};const addToCart=function(product){let quantity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;setCart(prevCart=>{const existingItem=prevCart.find(item=>item.id===product.id);if(existingItem){return prevCart.map(item=>item.id===product.id?{...item,quantity:item.quantity+quantity}:item);}return[...prevCart,{...product,quantity}];});addNotification(`${product.name} dodano do koszyka!`,'success');};const updateCartQuantity=(productId,newQuantity)=>{if(newQuantity<1){removeFromCart(productId);}else{setCart(cart.map(item=>item.id===productId?{...item,quantity:newQuantity}:item));}};const removeFromCart=productId=>{setCart(cart.filter(item=>item.id!==productId));};const clearCart=()=>setCart([]);const cartItemCount=cart.reduce((acc,item)=>acc+item.quantity,0);const handleLogout=async()=>{await signOut(auth);addNotification('Wylogowano pomyślnie.','success');navigate('home');};const renderPage=()=>{switch(page){case'home':return/*#__PURE__*/_jsx(HomePage,{products:products,categories:categories,navigate:navigate});case'category':return/*#__PURE__*/_jsx(CategoryPage,{navigate:navigate,products:products,categoryName:pageData});case'product':return/*#__PURE__*/_jsx(ProductPage,{navigate:navigate,productId:pageData});case'cart':return/*#__PURE__*/_jsx(CartPage,{navigate:navigate});case'checkout':return/*#__PURE__*/_jsx(CheckoutPage,{navigate:navigate});case'order-confirmation':return/*#__PURE__*/_jsx(OrderConfirmationPage,{navigate:navigate,orderDetails:orderDetails});case'login':return/*#__PURE__*/_jsx(LoginPage,{navigate:navigate,addNotification:addNotification});case'register':return/*#__PURE__*/_jsx(RegisterPage,{navigate:navigate,addNotification:addNotification});case'admin':return/*#__PURE__*/_jsx(AdminPanel,{navigate:navigate});default:return/*#__PURE__*/_jsx(HomePage,{products:products,categories:categories,navigate:navigate});}};const contextValue={user,userRole,cart,addToCart,updateCartQuantity,removeFromCart,clearCart,cartItemCount,navigate,addNotification,handleLogout,setUser,setOrderDetails};return/*#__PURE__*/_jsx(AppContext.Provider,{value:contextValue,children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900 min-h-screen font-sans\",children:[isLoading&&/*#__PURE__*/_jsx(LoadingScreen,{}),/*#__PURE__*/_jsx(NotificationCenter,{notifications:notifications}),/*#__PURE__*/_jsx(Header,{isMobileMenuOpen:isMobileMenuOpen,setIsMobileMenuOpen:setIsMobileMenuOpen}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsx(motion.main,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.3},children:renderPage()},page)}),/*#__PURE__*/_jsx(AnimatePresence,{children:isMobileMenuOpen&&/*#__PURE__*/_jsx(motion.div,{initial:{x:'100%'},animate:{x:0},exit:{x:'100%'},transition:{type:'spring',stiffness:300,damping:30},className:\"fixed top-0 right-0 h-full w-64 bg-gray-800 z-30 p-6 md:hidden\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex flex-col space-y-4 text-white\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('category','Ładowarki'),className:\"hover:text-blue-400\",children:\"\\u0141adowarki\"}),/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('category','Adaptery'),className:\"hover:text-blue-400\",children:\"Adaptery\"}),/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('category','Akcesoria'),className:\"hover:text-blue-400\",children:\"Akcesoria\"}),/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('category','Baterie'),className:\"hover:text-blue-400\",children:\"Baterie\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"border-gray-700\"}),/*#__PURE__*/_jsxs(\"a\",{onClick:()=>navigate('cart'),className:\"hover:text-blue-400\",children:[\"Koszyk (\",cartItemCount,\")\"]}),user?/*#__PURE__*/_jsxs(_Fragment,{children:[userRole==='admin'&&/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('admin'),className:\"hover:text-blue-400\",children:\"Panel Admina\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLogout,className:\"hover:text-blue-400\",children:\"Wyloguj\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('login'),className:\"hover:text-blue-400\",children:\"Zaloguj si\\u0119\"}),/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('register'),className:\"hover:text-blue-400\",children:\"Zarejestruj si\\u0119\"})]})]})})}),/*#__PURE__*/_jsx(Footer,{})]})});}","map":{"version":3,"names":["React","useState","useEffect","useRef","createContext","useContext","initializeApp","getAuth","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","GoogleAuthProvider","signInWithPopup","getAdditionalUserInfo","getFirestore","collection","getDocs","doc","getDoc","addDoc","updateDoc","deleteDoc","query","onSnapshot","setDoc","getStorage","ref","uploadBytes","getDownloadURL","deleteObject","ShoppingCart","User","Star","Menu","X","Trash2","Plus","Minus","Truck","CreditCard","ShieldCheck","Filter","LogOut","Settings","Zap","AlertCircle","CheckCircle","motion","AnimatePresence","categoryChargers","categoryAdapters","categoryAccessories","categoryBatteries","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","db","storage","logoUrl","process","env","PUBLIC_URL","defaultProductImageUrl","heroImageUrl","categoriesData","name","image","sampleTeslaProducts","id","price","category","brand","rating","bestseller","description","imageUrls","api","fetchProducts","productsCol","snapshot","firebaseProducts","docs","map","data","length","allProducts","uniqueProducts","filter","product","index","self","findIndex","p","error","console","fetchCategories","fetchProduct","docRef","docSnap","exists","getReviews","productId","callback","reviewsQuery","reviews","addReview","review","uploadImage","file","storageRef","Date","now","deleteImage","imageUrl","includes","log","imageRef","code","warn","addProduct","updateProduct","deleteProduct","fetchOrders","ordersCol","updateOrderStatus","status","AppContext","useAppContext","NotificationCenter","_ref","notifications","className","children","note","div","initial","opacity","y","scale","animate","exit","x","transition","duration","type","message","LoadingScreen","Header","_ref2","isMobileMenuOpen","setIsMobileMenuOpen","user","userRole","cartItemCount","navigate","handleLogout","onClick","src","alt","email","Footer","href","placeholder","ProductCard","_ref3","layout","BestsellersSection","_ref4","products","featuredProducts","slice","CategoriesSection","_ref5","categories","delay","FeaturedInfoSection","HomePage","_ref6","HeroSection","CategoryPage","_ref7","categoryName","filteredProducts","setFilteredProducts","searchTerm","setSearchTerm","priceRange","setPriceRange","brands","setBrands","selectedBrands","setSelectedBrands","sortBy","setSortBy","categoryProducts","availableBrands","Set","tempProducts","toLowerCase","sort","a","b","handleBrandChange","prev","value","onChange","e","target","min","max","step","Number","checked","htmlFor","ReviewsSection","_ref8","newReview","setNewReview","text","handleReviewSubmit","preventDefault","alert","author","createdAt","Array","_","i","onSubmit","ProductPage","_ref9","setProduct","setReviews","isLoading","setIsLoading","activeImage","setActiveImage","addToCart","fetchData","productData","unsubscribe","url","CartPage","_ref0","cart","updateCartQuantity","removeFromCart","clearCart","totalPrice","reduce","acc","item","quantity","disabled","toFixed","CheckoutPage","_ref1","addNotification","setOrderDetails","shippingInfo","setShippingInfo","address","city","zip","country","currentStep","setCurrentStep","handleChange","handleSubmit","orderData","userId","uid","items","total","ProgressBar","_ref10","mode","required","OrderConfirmationPage","_ref11","orderDetails","AccessDenied","_ref12","LoginPage","_ref13","credentials","setCredentials","password","setError","setUser","handleGoogleLogin","provider","userCredential","additionalUserInfo","isNewUser","role","handleLogin","RegisterPage","_ref14","confirmPassword","handleRegister","AdminPanel","_ref15","activeTab","setActiveTab","renderContent","AdminDashboard","AdminProducts","AdminOrders","stats","setStats","orders","users","revenue","fetchStats","totalRevenue","size","setProducts","isModalOpen","setIsModalOpen","editingProduct","setEditingProduct","handleSave","cleanData","cleaned","key","undefined","isArray","finalData","handleDelete","window","confirm","productToDelete","find","handleEdit","handleAddNew","ProductEditModal","onSave","onClose","_ref16","setProductData","isUploading","setIsUploading","handlePriceChange","parseFloat","handleImageUpload","files","handleImageDelete","urlToDelete","setOrders","fetchedOrders","handleStatusChange","orderId","newStatus","o","order","seconds","toLocaleDateString","_ref17","style","backgroundImage","h1","button","whileHover","whileTap","App","page","setPage","pageData","setPageData","setUserRole","setCart","setNotifications","setCategories","notificationId","currentUser","userDocRef","userDoc","loadInitialData","productsData","Promise","all","savedCart","localStorage","getItem","JSON","parse","setItem","stringify","arguments","current","setTimeout","newPage","scrollTo","prevCart","existingItem","newQuantity","renderPage","contextValue","Provider","main","stiffness","damping"],"sources":["C:/Users/barto/OneDrive/Pulpit/evsite/src/App.js"],"sourcesContent":["import React, {\n  useState,\n  useEffect,\n  useRef,\n  createContext,\n  useContext,\n} from 'react';\nimport { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  onAuthStateChanged,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  signOut,\n  GoogleAuthProvider,\n  signInWithPopup,\n  getAdditionalUserInfo,\n} from 'firebase/auth';\nimport {\n  getFirestore,\n  collection,\n  getDocs,\n  doc,\n  getDoc,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  query,\n  onSnapshot,\n  setDoc,\n} from 'firebase/firestore';\nimport {\n  getStorage,\n  ref,\n  uploadBytes,\n  getDownloadURL,\n  deleteObject,\n} from 'firebase/storage';\nimport {\n  ShoppingCart,\n  User,\n  Star,\n  Menu,\n  X,\n  Trash2,\n  Plus,\n  Minus,\n  Truck,\n  CreditCard,\n  ShieldCheck,\n  Filter,\n  LogOut,\n  Settings,\n  Zap,\n  AlertCircle,\n  CheckCircle,\n} from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport './index.css';\n\n// Import obrazów dla kategorii\nimport categoryChargers from './assets/images/category-chargers.jpg';\nimport categoryAdapters from './assets/images/category-adapters.jpg';\nimport categoryAccessories from './assets/images/category-accessories.jpg';\nimport categoryBatteries from './assets/images/category-batteries.jpg';\n\n// --- KONFIGURACJA FIREBASE (POPRAWIONA) ---\nconst firebaseConfig = {\n  apiKey: 'AIzaSyC6L-8owWH1z6Ipf2FZax7gZ7FQOvuSNJs',\n  authDomain: 'evshop-6719a.firebaseapp.com',\n  projectId: 'evshop-6719a',\n  storageBucket: 'evshop-6719a.firebasestorage.app',\n  messagingSenderId: '619247072748',\n  appId: '1:619247072748:web:ad274f442dba53736cbcc9',\n  measurementId: 'G-Z80X8YRR4L',\n};\n\n// Inicjalizacja Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst storage = getStorage(app);\nconst logoUrl = `${process.env.PUBLIC_URL}/logo.png`;\nconst defaultProductImageUrl = `${process.env.PUBLIC_URL}/default-product.png`;\nconst heroImageUrl =\n  'https://images.unsplash.com/photo-1619623697969-9f15038c1a16?q=80&w=2070&auto=format&fit=crop';\n\nconst categoriesData = [\n  { name: 'Ładowarki', image: categoryChargers },\n  { name: 'Adaptery', image: categoryAdapters },\n  { name: 'Akcesoria', image: categoryAccessories },\n  { name: 'Baterie', image: categoryBatteries },\n];\n\n// --- SAMPLE TESLA PRODUCTS ---\nconst sampleTeslaProducts = [\n  {\n    id: 'tesla-wall-connector',\n    name: 'Tesla Wall Connector Gen 3',\n    price: 2499,\n    category: 'Ładowarki',\n    brand: 'Tesla',\n    rating: 4.9,\n    bestseller: true,\n    description:\n      'Najszybsza ładowarka domowa Tesla z mocą do 11.5 kW. Idealna do codziennego użytku domowego.',\n    imageUrls: [\n      'https://images.unsplash.com/photo-1593941707882-a5bac6861d75?q=80&w=800&auto=format&fit=crop',\n      'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?q=80&w=800&auto=format&fit=crop',\n    ],\n  },\n  {\n    id: 'tesla-mobile-connector',\n    name: 'Tesla Mobile Connector',\n    price: 899,\n    category: 'Ładowarki',\n    brand: 'Tesla',\n    rating: 4.8,\n    bestseller: true,\n    description:\n      'Przenośna ładowarka Tesla z adapterami do różnych gniazdek. Niezbędna w każdej podróży.',\n    imageUrls: [\n      'https://images.unsplash.com/photo-1609592606436-c0e3d0c4b3b9?q=80&w=800&auto=format&fit=crop',\n      'https://images.unsplash.com/photo-1621784377641-2c1a2c7a4b91?q=80&w=800&auto=format&fit=crop',\n    ],\n  },\n  {\n    id: 'tesla-chademo-adapter',\n    name: 'Tesla CHAdeMO Adapter',\n    price: 1299,\n    category: 'Adaptery',\n    brand: 'Tesla',\n    rating: 4.7,\n    description:\n      'Adapter CHAdeMO umożliwiający ładowanie Tesla na stacjach CHAdeMO o mocy do 50 kW.',\n    imageUrls: [\n      'https://images.unsplash.com/photo-1626668011687-8a114d5c1604?q=80&w=800&auto=format&fit=crop',\n    ],\n  },\n  {\n    id: 'tesla-j1772-adapter',\n    name: 'Tesla J1772 Adapter',\n    price: 399,\n    category: 'Adaptery',\n    brand: 'Tesla',\n    rating: 4.6,\n    description:\n      'Adapter J1772 pozwalający na ładowanie Tesla na publicznych stacjach J1772.',\n    imageUrls: [\n      'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?q=80&w=800&auto=format&fit=crop',\n    ],\n  },\n  {\n    id: 'tesla-supercharger-cable',\n    name: 'Tesla Supercharger Cable (zapasowy)',\n    price: 699,\n    category: 'Akcesoria',\n    brand: 'Tesla',\n    rating: 4.8,\n    description:\n      'Zapasowy kabel do ładowarki Tesla Supercharger. Wytrzymały i niezawodny.',\n    imageUrls: [\n      'https://images.unsplash.com/photo-1609592606436-c0e3d0c4b3b9?q=80&w=800&auto=format&fit=crop',\n    ],\n  },\n  {\n    id: 'tesla-powerwall',\n    name: 'Tesla Powerwall 2',\n    price: 28999,\n    category: 'Baterie',\n    brand: 'Tesla',\n    rating: 4.9,\n    bestseller: true,\n    description:\n      'Domowa bateria Tesla Powerwall 2 o pojemności 13,5 kWh. Zapewnia niezależność energetyczną.',\n    imageUrls: [\n      'https://images.unsplash.com/photo-1497435334941-8c899ee9e8e9?q=80&w=800&auto=format&fit=crop',\n    ],\n  },\n  {\n    id: 'tesla-model-s-floor-mats',\n    name: 'Tesla Model S - Dywaniki podłogowe',\n    price: 459,\n    category: 'Akcesoria',\n    brand: 'Tesla',\n    rating: 4.5,\n    description:\n      'Oryginalne dywaniki podłogowe Tesla Model S. Idealne dopasowanie i wysoka jakość.',\n    imageUrls: [\n      'https://images.unsplash.com/photo-1549924231-f129b911e442?q=80&w=800&auto=format&fit=crop',\n    ],\n  },\n  {\n    id: 'tesla-model-3-trunk-mat',\n    name: 'Tesla Model 3 - Mata bagażnika',\n    price: 299,\n    category: 'Akcesoria',\n    brand: 'Tesla',\n    rating: 4.4,\n    description:\n      'Wodoodporna mata bagażnika dla Tesla Model 3. Chroni przed zabrudzeniem i wilgocią.',\n    imageUrls: [\n      'https://images.unsplash.com/photo-1549924231-f129b911e442?q=80&w=800&auto=format&fit=crop',\n    ],\n  },\n  {\n    id: 'tesla-wireless-charger',\n    name: 'Tesla Wireless Phone Charger',\n    price: 329,\n    category: 'Akcesoria',\n    brand: 'Tesla',\n    rating: 4.3,\n    description:\n      'Bezprzewodowa ładowarka do telefonu Tesla. Kompatybilna z Model S, 3, X i Y.',\n    imageUrls: [\n      'https://images.unsplash.com/photo-1594736797933-d0401ba4b7c0?q=80&w=800&auto=format&fit=crop',\n    ],\n  },\n  {\n    id: 'tesla-gen2-mobile-connector',\n    name: 'Tesla Gen 2 Mobile Connector Bundle',\n    price: 1299,\n    category: 'Ładowarki',\n    brand: 'Tesla',\n    rating: 4.8,\n    description:\n      'Kompletny zestaw Gen 2 Mobile Connector z adapterami NEMA 14-50, 5-15 i J1772.',\n    imageUrls: [\n      'https://images.unsplash.com/photo-1609592606436-c0e3d0c4b3b9?q=80&w=800&auto=format&fit=crop',\n    ],\n  },\n];\n\n// --- API SERWIS (LIVE) ---\n// Funkcje do interakcji z Firebase\nconst api = {\n  fetchProducts: async () => {\n    try {\n      const productsCol = collection(db, 'products');\n      const snapshot = await getDocs(productsCol);\n      const firebaseProducts = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n\n      // Jeśli baza danych jest pusta, zwróć sample produkty Tesla\n      if (firebaseProducts.length === 0) {\n        return sampleTeslaProducts;\n      }\n\n      // Połącz produkty z Firebase z sample produktami Tesla\n      const allProducts = [...firebaseProducts, ...sampleTeslaProducts];\n      // Usuń duplikaty na podstawie ID\n      const uniqueProducts = allProducts.filter(\n        (product, index, self) =>\n          index === self.findIndex(p => p.id === product.id)\n      );\n\n      return uniqueProducts;\n    } catch (error) {\n      console.error('Błąd podczas pobierania produktów:', error);\n      // W przypadku błędu, zwróć sample produkty Tesla\n      return sampleTeslaProducts;\n    }\n  },\n  fetchCategories: async () => {\n    return categoriesData;\n  },\n  fetchProduct: async id => {\n    const docRef = doc(db, 'products', id);\n    const docSnap = await getDoc(docRef);\n    return docSnap.exists() ? { id: docSnap.id, ...docSnap.data() } : null;\n  },\n  getReviews: (productId, callback) => {\n    const reviewsQuery = query(collection(db, `products/${productId}/reviews`));\n    return onSnapshot(reviewsQuery, snapshot => {\n      const reviews = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n      callback(reviews);\n    });\n  },\n  addReview: async (productId, review) => {\n    await addDoc(collection(db, `products/${productId}/reviews`), review);\n  },\n  uploadImage: async file => {\n    const storageRef = ref(storage, `products/${Date.now()}_${file.name}`);\n    await uploadBytes(storageRef, file);\n    return getDownloadURL(storageRef);\n  },\n  deleteImage: async imageUrl => {\n    // Zapobiegaj próbie usunięcia przykładowych zdjęć z unsplash\n    if (imageUrl.includes('unsplash.com')) {\n      console.log(\n        'Próba usunięcia przykładowego zdjęcia - operacja zignorowana.'\n      );\n      return;\n    }\n    try {\n      const imageRef = ref(storage, imageUrl);\n      await deleteObject(imageRef);\n    } catch (error) {\n      if (error.code === 'storage/object-not-found') {\n        console.warn(\n          'Próbowano usunąć obraz, który nie istnieje w Firebase Storage:',\n          imageUrl\n        );\n      } else {\n        throw error;\n      }\n    }\n  },\n  // Funkcje dla admina\n  addProduct: async product => addDoc(collection(db, 'products'), product),\n  updateProduct: async (id, product) =>\n    updateDoc(doc(db, 'products', id), product),\n  deleteProduct: async id => deleteDoc(doc(db, 'products', id)),\n  fetchOrders: async () => {\n    const ordersCol = collection(db, 'orders');\n    const snapshot = await getDocs(ordersCol);\n    return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n  },\n  updateOrderStatus: async (id, status) =>\n    updateDoc(doc(db, 'orders', id), { status }),\n};\n\n// --- CONTEXT API ---\nconst AppContext = createContext();\nexport const useAppContext = () => useContext(AppContext);\n\n\n\n// Centrum powiadomień\nconst NotificationCenter = ({ notifications }) => (\n  <div className=\"fixed top-5 right-5 z-50\">\n    <AnimatePresence>\n      {notifications.map(note => (\n        <motion.div\n          key={note.id}\n          initial={{ opacity: 0, y: -20, scale: 0.9 }}\n          animate={{ opacity: 1, y: 0, scale: 1 }}\n          exit={{ opacity: 0, x: 50, scale: 0.9 }}\n          transition={{ duration: 0.4 }}\n          className={`mb-2 p-4 rounded-lg shadow-xl text-white ${note.type === 'error' ? 'bg-red-600' : 'bg-green-600'}`}\n        >\n          {note.message}\n        </motion.div>\n      ))}\n    </AnimatePresence>\n  </div>\n);\n\n// Ekran ładowania\nconst LoadingScreen = () => (\n  <div className=\"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-50\">\n    <div className=\"flex flex-col items-center\">\n      <Zap className=\"text-blue-400 w-16 h-16 animate-pulse\" />\n      <p className=\"text-white mt-4 text-lg\">Ładowanie...</p>\n    </div>\n  </div>\n);\n\n// --- KOMPONENTY UI ---\nconst Header = ({ isMobileMenuOpen, setIsMobileMenuOpen }) => {\n  const { user, userRole, cartItemCount, navigate, handleLogout } =\n    useAppContext();\n\n  return (\n    <header className=\"bg-gray-900 bg-opacity-80 text-white p-4 flex items-center justify-between fixed top-0 left-0 right-0 z-40 backdrop-blur-sm\">\n      <div className=\"flex items-center space-x-6\">\n        <a onClick={() => navigate('home')} className=\"cursor-pointer\">\n          <img src={logoUrl} alt=\"EV-Shop Logo\" className=\"h-10\" />\n        </a>\n        <nav className=\"hidden md:flex items-center space-x-6\">\n          <a\n            onClick={() => navigate('category', 'Ładowarki')}\n            className=\"hover:text-blue-400 transition-colors\"\n          >\n            Ładowarki\n          </a>\n          <a\n            onClick={() => navigate('category', 'Adaptery')}\n            className=\"hover:text-blue-400 transition-colors\"\n          >\n            Adaptery\n          </a>\n          <a\n            onClick={() => navigate('category', 'Akcesoria')}\n            className=\"hover:text-blue-400 transition-colors\"\n          >\n            Akcesoria\n          </a>\n          <a\n            onClick={() => navigate('category', 'Baterie')}\n            className=\"hover:text-blue-400 transition-colors\"\n          >\n            Baterie\n          </a>\n        </nav>\n      </div>\n\n      <div className=\"flex items-center space-x-4\">\n        <div className=\"hidden md:flex items-center space-x-4\">\n          <a\n            onClick={() => navigate('cart')}\n            className=\"relative cursor-pointer group\"\n          >\n            <ShoppingCart className=\"h-7 w-7 text-gray-400 group-hover:text-blue-400 transition-colors\" />\n            {cartItemCount > 0 && (\n              <span className=\"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse\">\n                {cartItemCount}\n              </span>\n            )}\n          </a>\n          <div className=\"relative group\">\n            <a\n              onClick={() => (user ? null : navigate('login'))}\n              className=\"cursor-pointer\"\n            >\n              <User className=\"h-7 w-7 text-gray-400 group-hover:text-blue-400 transition-colors\" />\n            </a>\n            {user ? (\n              <div className=\"absolute right-0 mt-2 w-56 bg-gray-800 border border-gray-700 rounded-md shadow-lg py-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                <p className=\"px-4 py-2 text-sm text-gray-400 border-b border-gray-700\">\n                  Zalogowano jako:\n                </p>\n                <p className=\"px-4 pt-1 pb-2 text-sm text-white truncate\">\n                  {user.email}\n                </p>\n                {userRole === 'admin' && (\n                  <a\n                    onClick={() => navigate('admin')}\n                    className=\"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer\"\n                  >\n                    <Settings className=\"w-4 h-4 mr-2\" />\n                    Panel Admina\n                  </a>\n                )}\n                <a\n                  onClick={handleLogout}\n                  className=\"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer\"\n                >\n                  <LogOut className=\"w-4 h-4 mr-2\" />\n                  Wyloguj\n                </a>\n              </div>\n            ) : (\n              <div className=\"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-md shadow-lg py-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                <a\n                  onClick={() => navigate('login')}\n                  className=\"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer\"\n                >\n                  Zaloguj się\n                </a>\n                <a\n                  onClick={() => navigate('register')}\n                  className=\"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer\"\n                >\n                  Zarejestruj się\n                </a>\n              </div>\n            )}\n          </div>\n        </div>\n        <div className=\"md:hidden\">\n          <button onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}>\n            {isMobileMenuOpen ? (\n              <X className=\"h-7 w-7\" />\n            ) : (\n              <Menu className=\"h-7 w-7\" />\n            )}\n          </button>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nconst Footer = () => (\n  <footer className=\"bg-gray-900 text-gray-400 py-12\">\n    <div className=\"container mx-auto grid grid-cols-2 md:grid-cols-4 gap-8 px-4\">\n      <div>\n        <h3 className=\"font-bold text-white mb-4\">EV-Shop</h3>\n        <p>Twoje źródło energii dla mobilności.</p>\n      </div>\n      <div>\n        <h3 className=\"font-bold text-white mb-4\">Kategorie</h3>\n        <ul>\n          <li>\n            <a href=\"#\" className=\"hover:text-white\">\n              Ładowarki\n            </a>\n          </li>\n          <li>\n            <a href=\"#\" className=\"hover:text-white\">\n              Adaptery\n            </a>\n          </li>\n          <li>\n            <a href=\"#\" className=\"hover:text-white\">\n              Akcesoria\n            </a>\n          </li>\n          <li>\n            <a href=\"#\" className=\"hover:text-white\">\n              Baterie\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div>\n        <h3 className=\"font-bold text-white mb-4\">Obsługa Klienta</h3>\n        <ul>\n          <li>\n            <a href=\"#\" className=\"hover:text-white\">\n              Kontakt\n            </a>\n          </li>\n          <li>\n            <a href=\"#\" className=\"hover:text-white\">\n              FAQ\n            </a>\n          </li>\n          <li>\n            <a href=\"#\" className=\"hover:text-white\">\n              Dostawa i zwroty\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div>\n        <h3 className=\"font-bold text-white mb-4\">Newsletter</h3>\n        <input\n          type=\"email\"\n          placeholder=\"Twój e-mail\"\n          className=\"bg-gray-800 p-2 rounded w-full mb-2\"\n        />\n        <button className=\"bg-blue-600 text-white py-2 px-4 rounded w-full hover:bg-blue-700\">\n          Zapisz się\n        </button>\n      </div>\n    </div>\n    <div className=\"text-center mt-8 pt-8 border-t border-gray-800\">\n      <p>&copy; 2024 EV-Shop. Wszystkie prawa zastrzeżone.</p>\n    </div>\n  </footer>\n);\n\nconst ProductCard = ({ product, navigate }) => {\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, scale: 0.9 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.9 }}\n      transition={{ duration: 0.3 }}\n      onClick={() => navigate('product', product.id)}\n      className=\"bg-gray-800 rounded-lg overflow-hidden shadow-lg cursor-pointer group\"\n    >\n      <div className=\"relative h-56\">\n        <img\n          src={product.imageUrls[0] || defaultProductImageUrl}\n          alt={product.name}\n          className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n        />\n        {product.bestseller && (\n          <div className=\"absolute top-2 left-2 bg-yellow-500 text-gray-900 px-2 py-1 text-xs font-bold rounded\">\n            BESTSELLER\n          </div>\n        )}\n      </div>\n      <div className=\"p-4\">\n        <h3 className=\"text-lg font-semibold text-white truncate\">\n          {product.name}\n        </h3>\n        <p className=\"text-gray-400 text-sm mb-2\">\n          {product.brand} - {product.category}\n        </p>\n        <div className=\"flex items-center justify-between\">\n          <p className=\"text-xl font-bold text-blue-400\">{product.price} PLN</p>\n          <div className=\"flex items-center\">\n            <Star className=\"w-5 h-5 text-yellow-400\" />\n            <span className=\"text-white ml-1\">{product.rating}</span>\n          </div>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\nconst BestsellersSection = ({ products, navigate }) => {\n  const featuredProducts = products.filter(p => p.bestseller).slice(0, 4);\n\n  return (\n    <section className=\"py-20\">\n      <h2 className=\"text-3xl font-bold text-center mb-12 text-white\">\n        Bestsellery\n      </h2>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\n        {featuredProducts.map(product => (\n          <ProductCard key={product.id} product={product} navigate={navigate} />\n        ))}\n      </div>\n    </section>\n  );\n};\n\nconst CategoriesSection = ({ categories, navigate }) => (\n  <section className=\"py-20 bg-gray-800 text-white\">\n    <div className=\"container mx-auto px-4\">\n      <h2 className=\"text-4xl font-bold text-center mb-12\">\n        Przeglądaj Kategorie\n      </h2>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8\">\n        {categories.map((category, index) => (\n          <motion.div\n            key={category.name}\n            className=\"category-card bg-gray-900 rounded-lg overflow-hidden shadow-lg cursor-pointer group\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: index * 0.1 }}\n            onClick={() => navigate('category', category.name)}\n          >\n            <div className=\"relative h-64\">\n              <img\n                src={category.image}\n                alt={category.name}\n                className=\"w-full h-full object-cover transition-transform duration-300 transform group-hover:scale-105\"\n              />\n              <div className=\"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center\">\n                <span className=\"text-white text-2xl font-bold\">\n                  {category.name}\n                </span>\n              </div>\n            </div>\n          </motion.div>\n        ))}\n      </div>\n    </div>\n  </section>\n);\n\nconst FeaturedInfoSection = () => (\n  <section className=\"py-20 bg-gray-900 text-white\">\n    <div className=\"container mx-auto px-4 text-center\">\n      <h2 className=\"text-3xl font-bold mb-8\">Dlaczego EV-Shop?</h2>\n      <div className=\"grid md:grid-cols-3 gap-8\">\n        <div className=\"p-6\">\n          <Truck className=\"w-12 h-12 mx-auto text-blue-400 mb-4\" />\n          <h3 className=\"text-xl font-semibold mb-2\">Szybka Dostawa</h3>\n          <p className=\"text-gray-400\">\n            Twoje zamówienie dotrze do Ciebie w mgnieniu oka.\n          </p>\n        </div>\n        <div className=\"p-6\">\n          <CreditCard className=\"w-12 h-12 mx-auto text-blue-400 mb-4\" />\n          <h3 className=\"text-xl font-semibold mb-2\">Bezpieczne Płatności</h3>\n          <p className=\"text-gray-400\">\n            Gwarantujemy bezpieczeństwo Twoich transakcji.\n          </p>\n        </div>\n        <div className=\"p-6\">\n          <ShieldCheck className=\"w-12 h-12 mx-auto text-blue-400 mb-4\" />\n          <h3 className=\"text-xl font-semibold mb-2\">Gwarancja Jakości</h3>\n          <p className=\"text-gray-400\">\n            Oferujemy tylko sprawdzone i certyfikowane produkty.\n          </p>\n        </div>\n      </div>\n    </div>\n  </section>\n);\n\nconst HomePage = ({ products, categories, navigate }) => (\n  <div>\n    <HeroSection navigate={navigate} />\n    <main\n      id=\"products-section\"\n      className=\"container mx-auto p-4 -mt-24 relative z-10 bg-gray-900 rounded-t-2xl shadow-lg\"\n    >\n      <BestsellersSection products={products} navigate={navigate} />\n      <CategoriesSection categories={categories} navigate={navigate} />\n      <FeaturedInfoSection />\n    </main>\n  </div>\n);\n\nconst CategoryPage = ({ navigate, products, categoryName }) => {\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 30000]);\n  const [brands, setBrands] = useState([]);\n  const [selectedBrands, setSelectedBrands] = useState([]);\n  const [sortBy, setSortBy] = useState('rating_desc');\n\n  useEffect(() => {\n    const categoryProducts = products.filter(p => p.category === categoryName);\n    const availableBrands = [...new Set(categoryProducts.map(p => p.brand))];\n    setBrands(availableBrands);\n    setSelectedBrands(availableBrands);\n    setFilteredProducts(categoryProducts); // Ustaw początkowe produkty\n  }, [products, categoryName]);\n\n  useEffect(() => {\n    let tempProducts = products.filter(p => p.category === categoryName);\n\n    // Wyszukiwanie\n    if (searchTerm) {\n      tempProducts = tempProducts.filter(p =>\n        p.name.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    // Filtracja po cenie\n    tempProducts = tempProducts.filter(\n      p => p.price >= priceRange[0] && p.price <= priceRange[1]\n    );\n\n    // Filtracja po marce\n    tempProducts = tempProducts.filter(p => selectedBrands.includes(p.brand));\n\n    // Sortowanie\n    tempProducts.sort((a, b) => {\n      switch (sortBy) {\n        case 'price_asc':\n          return a.price - b.price;\n        case 'price_desc':\n          return b.price - a.price;\n        case 'rating_desc':\n          return b.rating - a.rating;\n        default:\n          return 0;\n      }\n    });\n\n    setFilteredProducts(tempProducts);\n  }, [products, categoryName, searchTerm, priceRange, selectedBrands, sortBy]);\n\n  const handleBrandChange = brand => {\n    setSelectedBrands(prev =>\n      prev.includes(brand) ? prev.filter(b => b !== brand) : [...prev, brand]\n    );\n  };\n\n  return (\n    <div className=\"container mx-auto mt-24 p-4 text-white\">\n      <h1 className=\"text-4xl font-bold mb-8 text-center\">{categoryName}</h1>\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\n        {/* Panel filtrów */}\n        <div className=\"lg:col-span-1 bg-gray-800 p-6 rounded-lg h-fit\">\n          <h2 className=\"text-2xl font-semibold mb-6 flex items-center\">\n            <Filter className=\"mr-2\" />\n            Filtry\n          </h2>\n\n          {/* Wyszukiwanie */}\n          <div className=\"mb-6\">\n            <label className=\"block mb-2\">Szukaj</label>\n            <input\n              type=\"text\"\n              placeholder=\"Nazwa produktu...\"\n              value={searchTerm}\n              onChange={e => setSearchTerm(e.target.value)}\n              className=\"w-full p-2 bg-gray-700 rounded\"\n            />\n          </div>\n\n          {/* Zakres cen */}\n          <div className=\"mb-6\">\n            <label className=\"block mb-2\">\n              Cena: {priceRange[0]} - {priceRange[1]} PLN\n            </label>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"30000\"\n              step=\"100\"\n              value={priceRange[1]}\n              onChange={e =>\n                setPriceRange([priceRange[0], Number(e.target.value)])\n              }\n              className=\"w-full\"\n            />\n          </div>\n\n          {/* Marki */}\n          <div className=\"mb-6\">\n            <h3 className=\"text-lg font-semibold mb-2\">Marka</h3>\n            {brands.map(brand => (\n              <div key={brand} className=\"flex items-center mb-1\">\n                <input\n                  type=\"checkbox\"\n                  id={brand}\n                  checked={selectedBrands.includes(brand)}\n                  onChange={() => handleBrandChange(brand)}\n                  className=\"mr-2\"\n                />\n                <label htmlFor={brand}>{brand}</label>\n              </div>\n            ))}\n          </div>\n\n          {/* Sortowanie */}\n          <div>\n            <label className=\"block mb-2\">Sortuj według</label>\n            <select\n              value={sortBy}\n              onChange={e => setSortBy(e.target.value)}\n              className=\"w-full p-2 bg-gray-700 rounded\"\n            >\n              <option value=\"rating_desc\">Ocena malejąco</option>\n              <option value=\"price_asc\">Cena rosnąco</option>\n              <option value=\"price_desc\">Cena malejąco</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Lista produktów */}\n        <div className=\"lg:col-span-3\">\n          <AnimatePresence>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n              {filteredProducts.map(product => (\n                <ProductCard\n                  key={product.id}\n                  product={product}\n                  navigate={navigate}\n                />\n              ))}\n            </div>\n          </AnimatePresence>\n          {filteredProducts.length === 0 && (\n            <p className=\"text-center text-gray-400 mt-10\">\n              Brak produktów spełniających kryteria.\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ReviewsSection = ({ productId, reviews }) => {\n  const { user } = useAppContext();\n  const [newReview, setNewReview] = useState({ rating: 5, text: '' });\n\n  const handleReviewSubmit = async e => {\n    e.preventDefault();\n    if (!user) {\n      alert('Musisz być zalogowany, aby dodać opinię.');\n      return;\n    }\n    if (!newReview.text) {\n      alert('Opinia nie może być pusta.');\n      return;\n    }\n    await api.addReview(productId, {\n      ...newReview,\n      author: user.email,\n      createdAt: new Date(),\n    });\n    setNewReview({ rating: 5, text: '' });\n  };\n\n  return (\n    <div className=\"mt-12\">\n      <h3 className=\"text-2xl font-bold mb-4\">\n        Opinie klientów ({reviews.length})\n      </h3>\n      <div className=\"space-y-6\">\n        {reviews.map(review => (\n          <div key={review.id} className=\"bg-gray-800 p-4 rounded-lg\">\n            <div className=\"flex items-center mb-2\">\n              <div className=\"flex\">\n                {[...Array(5)].map((_, i) => (\n                  <Star\n                    key={i}\n                    className={`w-5 h-5 ${i < review.rating ? 'text-yellow-400' : 'text-gray-600'}`}\n                  />\n                ))}\n              </div>\n              <p className=\"ml-4 font-semibold\">{review.author}</p>\n            </div>\n            <p className=\"text-gray-300\">{review.text}</p>\n          </div>\n        ))}\n      </div>\n\n      {user && (\n        <form\n          onSubmit={handleReviewSubmit}\n          className=\"mt-8 bg-gray-800 p-6 rounded-lg\"\n        >\n          <h4 className=\"text-xl font-semibold mb-4\">Dodaj swoją opinię</h4>\n          <div className=\"flex items-center mb-4\">\n            <span>Twoja ocena:</span>\n            <div className=\"flex ml-4\">\n              {[...Array(5)].map((_, i) => (\n                <Star\n                  key={i}\n                  className={`w-6 h-6 cursor-pointer ${i < newReview.rating ? 'text-yellow-400' : 'text-gray-600'}`}\n                  onClick={() => setNewReview({ ...newReview, rating: i + 1 })}\n                />\n              ))}\n            </div>\n          </div>\n          <textarea\n            value={newReview.text}\n            onChange={e => setNewReview({ ...newReview, text: e.target.value })}\n            placeholder=\"Twoja opinia...\"\n            className=\"w-full p-2 bg-gray-700 rounded h-24 mb-4\"\n          />\n          <button\n            type=\"submit\"\n            className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n          >\n            Dodaj opinię\n          </button>\n        </form>\n      )}\n    </div>\n  );\n};\n\nconst ProductPage = ({ navigate, productId }) => {\n  const [product, setProduct] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [activeImage, setActiveImage] = useState(0);\n  const { addToCart } = useAppContext();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      const productData = await api.fetchProduct(productId);\n      setProduct(productData);\n      setIsLoading(false);\n    };\n    fetchData();\n\n    const unsubscribe = api.getReviews(productId, setReviews);\n    return () => unsubscribe();\n  }, [productId]);\n\n  if (isLoading) return <LoadingScreen />;\n  if (!product)\n    return (\n      <div className=\"text-center mt-24 text-white\">\n        Produkt nie został znaleziony.\n      </div>\n    );\n\n  return (\n    <div className=\"container mx-auto mt-24 p-4 text-white\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-12\">\n        {/* Galeria zdjęć */}\n        <div>\n          <div className=\"relative h-96 bg-gray-800 rounded-lg mb-4\">\n            <img\n              src={product.imageUrls[activeImage]}\n              alt={product.name}\n              className=\"w-full h-full object-contain\"\n            />\n          </div>\n          <div className=\"flex space-x-2\">\n            {product.imageUrls.map((url, index) => (\n              <img\n                key={index}\n                src={url}\n                alt={`${product.name} thumbnail ${index + 1}`}\n                onClick={() => setActiveImage(index)}\n                className={`w-24 h-24 object-cover rounded-md cursor-pointer border-2 ${activeImage === index ? 'border-blue-500' : 'border-transparent'}`}\n              />\n            ))}\n          </div>\n        </div>\n\n        {/* Informacje o produkcie */}\n        <div>\n          <h1 className=\"text-4xl font-extrabold mb-2\">{product.name}</h1>\n          <p className=\"text-gray-400 mb-4\">\n            {product.brand} - {product.category}\n          </p>\n          <div className=\"flex items-center mb-4\">\n            <div className=\"flex\">\n              {[...Array(5)].map((_, i) => (\n                <Star\n                  key={i}\n                  className={`w-5 h-5 ${i < product.rating ? 'text-yellow-400' : 'text-gray-600'}`}\n                />\n              ))}\n            </div>\n            <span className=\"ml-2\">({reviews.length} opinii)</span>\n          </div>\n          <p className=\"text-3xl font-bold text-blue-400 mb-6\">\n            {product.price} PLN\n          </p>\n          <p className=\"text-gray-300 mb-6\">{product.description}</p>\n          <button\n            onClick={() => addToCart(product)}\n            className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center text-lg\"\n          >\n            <ShoppingCart className=\"mr-2\" /> Dodaj do koszyka\n          </button>\n        </div>\n      </div>\n      <ReviewsSection productId={productId} reviews={reviews} />\n    </div>\n  );\n};\n\nconst CartPage = ({ navigate }) => {\n  const { cart, updateCartQuantity, removeFromCart, clearCart } =\n    useAppContext();\n  const totalPrice = cart.reduce(\n    (acc, item) => acc + item.price * item.quantity,\n    0\n  );\n\n  return (\n    <div className=\"container mx-auto mt-24 p-4 text-white\">\n      <h1 className=\"text-4xl font-bold mb-8\">Twój Koszyk</h1>\n      {cart.length === 0 ? (\n        <div className=\"text-center\">\n          <p>Koszyk jest pusty.</p>\n          <button\n            onClick={() => navigate('home')}\n            className=\"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n          >\n            Wróć do sklepu\n          </button>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          <div className=\"lg:col-span-2 space-y-4\">\n            {cart.map(item => (\n              <div\n                key={item.id}\n                className=\"flex items-center bg-gray-800 p-4 rounded-lg\"\n              >\n                <img\n                  src={item.imageUrls[0]}\n                  alt={item.name}\n                  className=\"w-24 h-24 object-cover rounded-md mr-4\"\n                />\n                <div className=\"flex-grow\">\n                  <h2 className=\"text-lg font-semibold\">{item.name}</h2>\n                  <p className=\"text-gray-400\">{item.price} PLN</p>\n                </div>\n                <div className=\"flex items-center\">\n                  <button\n                    onClick={() =>\n                      updateCartQuantity(item.id, item.quantity - 1)\n                    }\n                    disabled={item.quantity <= 1}\n                    className=\"p-1 bg-gray-700 rounded\"\n                  >\n                    <Minus />\n                  </button>\n                  <span className=\"w-12 text-center\">{item.quantity}</span>\n                  <button\n                    onClick={() =>\n                      updateCartQuantity(item.id, item.quantity + 1)\n                    }\n                    className=\"p-1 bg-gray-700 rounded\"\n                  >\n                    <Plus />\n                  </button>\n                </div>\n                <p className=\"w-24 text-right font-semibold\">\n                  {item.price * item.quantity} PLN\n                </p>\n                <button\n                  onClick={() => removeFromCart(item.id)}\n                  className=\"ml-4 text-gray-400 hover:text-red-500\"\n                >\n                  <Trash2 />\n                </button>\n              </div>\n            ))}\n          </div>\n          <div className=\"lg:col-span-1 bg-gray-800 p-6 rounded-lg h-fit\">\n            <h2 className=\"text-2xl font-bold mb-4\">Podsumowanie</h2>\n            <div className=\"flex justify-between mb-2\">\n              <span>Suma częściowa:</span>\n              <span>{totalPrice.toFixed(2)} PLN</span>\n            </div>\n            <div className=\"flex justify-between mb-4\">\n              <span>Dostawa:</span>\n              <span>GRATIS</span>\n            </div>\n            <div className=\"flex justify-between font-bold text-xl border-t border-gray-700 pt-4 mt-4\">\n              <span>Do zapłaty:</span>\n              <span>{totalPrice.toFixed(2)} PLN</span>\n            </div>\n            <button\n              onClick={() => navigate('checkout')}\n              className=\"w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg\"\n            >\n              Przejdź do kasy\n            </button>\n            <button\n              onClick={clearCart}\n              className=\"w-full mt-2 bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded-lg\"\n            >\n              Wyczyść koszyk\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst CheckoutPage = ({ navigate }) => {\n  const { cart, user, clearCart, addNotification, setOrderDetails } =\n    useAppContext();\n  const [shippingInfo, setShippingInfo] = useState({\n    name: '',\n    address: '',\n    city: '',\n    zip: '',\n    country: 'Polska',\n  });\n  const [currentStep, setCurrentStep] = useState(1);\n\n  const handleChange = e => {\n    setShippingInfo({ ...shippingInfo, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (currentStep === 1) {\n      setCurrentStep(2);\n    } else if (currentStep === 2) {\n      // Logika płatności (symulacja)\n      setCurrentStep(3);\n      try {\n        const orderData = {\n          userId: user ? user.uid : 'guest',\n          items: cart,\n          total: cart.reduce(\n            (acc, item) => acc + item.price * item.quantity,\n            0\n          ),\n          shippingInfo,\n          status: 'Nowe',\n          createdAt: new Date(),\n        };\n        const docRef = await addDoc(collection(db, 'orders'), orderData);\n        setOrderDetails({ ...orderData, id: docRef.id });\n        clearCart();\n        addNotification('Zamówienie złożone pomyślnie!', 'success');\n        navigate('order-confirmation');\n      } catch (error) {\n        addNotification('Błąd podczas składania zamówienia.', 'error');\n        console.error('Błąd zapisu zamówienia:', error);\n        setCurrentStep(2); // Wróć do płatności w razie błędu\n      }\n    }\n  };\n\n  const ProgressBar = ({ currentStep }) => (\n    <div className=\"flex items-center w-full mb-8\">\n      <div\n        className={`flex-1 text-center ${currentStep >= 1 ? 'text-blue-400' : 'text-gray-500'}`}\n      >\n        <div className=\"mx-auto w-8 h-8 rounded-full border-2 flex items-center justify-center mb-1\">\n          1\n        </div>\n        Dostawa\n      </div>\n      <div\n        className={`flex-1 h-0.5 ${currentStep >= 2 ? 'bg-blue-400' : 'bg-gray-700'}`}\n      ></div>\n      <div\n        className={`flex-1 text-center ${currentStep >= 2 ? 'text-blue-400' : 'text-gray-500'}`}\n      >\n        <div className=\"mx-auto w-8 h-8 rounded-full border-2 flex items-center justify-center mb-1\">\n          2\n        </div>\n        Płatność\n      </div>\n      <div\n        className={`flex-1 h-0.5 ${currentStep >= 3 ? 'bg-blue-400' : 'bg-gray-700'}`}\n      ></div>\n      <div\n        className={`flex-1 text-center ${currentStep >= 3 ? 'text-blue-400' : 'text-gray-500'}`}\n      >\n        <div className=\"mx-auto w-8 h-8 rounded-full border-2 flex items-center justify-center mb-1\">\n          3\n        </div>\n        Potwierdzenie\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"container mx-auto mt-24 p-4 text-white\">\n      <h1 className=\"text-4xl font-bold mb-8 text-center\">Zamówienie</h1>\n      <ProgressBar currentStep={currentStep} />\n      <form\n        onSubmit={handleSubmit}\n        className=\"max-w-lg mx-auto bg-gray-800 p-8 rounded-lg\"\n      >\n        <AnimatePresence mode=\"wait\">\n          {currentStep === 1 && (\n            <motion.div\n              key=\"step1\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <h2 className=\"text-2xl font-semibold mb-6\">Adres dostawy</h2>\n              <input\n                name=\"name\"\n                value={shippingInfo.name}\n                onChange={handleChange}\n                placeholder=\"Imię i nazwisko\"\n                className=\"w-full p-2 bg-gray-700 rounded mb-4\"\n                required\n              />\n              <input\n                name=\"address\"\n                value={shippingInfo.address}\n                onChange={handleChange}\n                placeholder=\"Adres\"\n                className=\"w-full p-2 bg-gray-700 rounded mb-4\"\n                required\n              />\n              <input\n                name=\"city\"\n                value={shippingInfo.city}\n                onChange={handleChange}\n                placeholder=\"Miasto\"\n                className=\"w-full p-2 bg-gray-700 rounded mb-4\"\n                required\n              />\n              <input\n                name=\"zip\"\n                value={shippingInfo.zip}\n                onChange={handleChange}\n                placeholder=\"Kod pocztowy\"\n                className=\"w-full p-2 bg-gray-700 rounded mb-4\"\n                required\n              />\n            </motion.div>\n          )}\n          {currentStep === 2 && (\n            <motion.div\n              key=\"step2\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <h2 className=\"text-2xl font-semibold mb-6\">Płatność</h2>\n              <p className=\"text-center text-gray-400 mb-4\">\n                Symulacja płatności. Kliknij, aby sfinalizować.\n              </p>\n            </motion.div>\n          )}\n          {currentStep === 3 && (\n            <motion.div\n              key=\"step3\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <h2 className=\"text-2xl font-semibold mb-6 text-center\">\n                Przetwarzanie...\n              </h2>\n              <LoadingScreen />\n            </motion.div>\n          )}\n        </AnimatePresence>\n        <button\n          type=\"submit\"\n          className=\"w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg\"\n        >\n          {currentStep === 1 ? 'Przejdź do płatności' : 'Zapłać i zamów'}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nconst OrderConfirmationPage = ({ navigate, orderDetails }) => (\n  <div className=\"container mx-auto mt-24 p-4 text-white text-center\">\n    <CheckCircle className=\"w-24 h-24 mx-auto text-green-500 mb-4\" />\n    <h1 className=\"text-4xl font-bold mb-4\">Dziękujemy za zamówienie!</h1>\n    <p className=\"text-lg text-gray-300 mb-8\">\n      Twoje zamówienie #{orderDetails.id.slice(0, 8)} zostało przyjęte.\n    </p>\n    <div className=\"max-w-md mx-auto bg-gray-800 p-6 rounded-lg text-left mb-8\">\n      <h2 className=\"text-xl font-semibold mb-4\">Szczegóły zamówienia</h2>\n      <p>\n        <strong>Status:</strong> {orderDetails.status}\n      </p>\n      <p>\n        <strong>Całkowita kwota:</strong> {orderDetails.total.toFixed(2)} PLN\n      </p>\n      <p>\n        <strong>Adres dostawy:</strong> {orderDetails.shippingInfo.address},{' '}\n        {orderDetails.shippingInfo.city}\n      </p>\n    </div>\n    <button\n      onClick={() => navigate('home')}\n      className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg\"\n    >\n      Wróć na stronę główną\n    </button>\n  </div>\n);\n\nconst AccessDenied = ({ navigate }) => (\n  <div className=\"container mx-auto mt-24 p-4 text-white text-center\">\n    <AlertCircle className=\"w-24 h-24 mx-auto text-red-500 mb-4\" />\n    <h1 className=\"text-4xl font-bold mb-4\">Brak dostępu</h1>\n    <p className=\"text-lg text-gray-300 mb-8\">\n      Nie masz uprawnień do przeglądania tej strony.\n    </p>\n    <button\n      onClick={() => navigate('home')}\n      className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg\"\n    >\n      Wróć na stronę główną\n    </button>\n  </div>\n);\n\nconst LoginPage = ({ navigate, addNotification }) => {\n  const [credentials, setCredentials] = useState({ email: '', password: '' });\n  const [error, setError] = useState('');\n  const { setUser } = useAppContext();\n\n  const handleGoogleLogin = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      const userCredential = await signInWithPopup(auth, provider);\n      const additionalUserInfo = getAdditionalUserInfo(userCredential);\n\n      // Create user doc only if they are a new user from Google Sign-In\n      if (additionalUserInfo?.isNewUser) {\n        await setDoc(doc(db, 'users', userCredential.user.uid), {\n          email: userCredential.user.email,\n          role: 'user',\n          createdAt: new Date(),\n        });\n      }\n\n      addNotification('Zalogowano pomyślnie!', 'success');\n      navigate('home');\n    } catch (error) {\n      setError('Błąd logowania przez Google.');\n      addNotification('Błąd logowania przez Google.', 'error');\n    }\n  };\n\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const userCredential = await signInWithEmailAndPassword(\n        auth,\n        credentials.email,\n        credentials.password\n      );\n      setUser(userCredential.user);\n      addNotification('Zalogowano pomyślnie!', 'success');\n      navigate('home');\n    } catch (error) {\n      setError('Nieprawidłowy email lub hasło.');\n      addNotification('Nieprawidłowy email lub hasło.', 'error');\n    }\n  };\n\n  const handleChange = e => {\n    setCredentials({ ...credentials, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-900 text-white\">\n      <div className=\"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-lg shadow-lg\">\n        <h1 className=\"text-3xl font-bold text-center\">Logowanie</h1>\n        {error && <p className=\"text-red-500 text-center\">{error}</p>}\n        <form onSubmit={handleLogin} className=\"space-y-6\">\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            onChange={handleChange}\n            className=\"w-full p-3 bg-gray-700 rounded\"\n            required\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Hasło\"\n            onChange={handleChange}\n            className=\"w-full p-3 bg-gray-700 rounded\"\n            required\n          />\n          <button\n            type=\"submit\"\n            className=\"w-full p-3 bg-blue-600 rounded font-bold hover:bg-blue-700\"\n          >\n            Zaloguj\n          </button>\n        </form>\n        <div className=\"text-center text-gray-400\">lub</div>\n        <button\n          onClick={handleGoogleLogin}\n          className=\"w-full p-3 bg-red-600 rounded font-bold hover:bg-red-700 flex items-center justify-center\"\n        >\n          <img\n            src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Google_%22G%22_logo.svg/768px-Google_%22G%22_logo.svg.png\"\n            alt=\"Google\"\n            className=\"w-5 h-5 mr-2\"\n          />\n          Zaloguj przez Google\n        </button>\n        <div className=\"text-center\">\n          <a\n            onClick={() => navigate('register')}\n            className=\"font-medium text-blue-400 hover:text-blue-300 cursor-pointer\"\n          >\n            Nie masz konta? Zarejestruj się\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst RegisterPage = ({ navigate, addNotification }) => {\n  const [credentials, setCredentials] = useState({\n    email: '',\n    password: '',\n    confirmPassword: '',\n  });\n  const [error, setError] = useState('');\n  const { setUser } = useAppContext();\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    if (credentials.password !== credentials.confirmPassword) {\n      setError('Hasła nie są zgodne.');\n      return;\n    }\n    try {\n      const userCredential = await createUserWithEmailAndPassword(\n        auth,\n        credentials.email,\n        credentials.password\n      );\n\n      // Ustawienie domyślnej roli 'user' dla nowego użytkownika\n      await setDoc(doc(db, 'users', userCredential.user.uid), {\n        email: userCredential.user.email,\n        role: 'user',\n        createdAt: new Date(),\n      });\n\n      setUser(userCredential.user);\n      addNotification('Rejestracja pomyślna!', 'success');\n      navigate('home');\n    } catch (error) {\n      setError('Błąd rejestracji. Sprawdź, czy email jest poprawny.');\n      addNotification('Błąd rejestracji.', 'error');\n    }\n  };\n\n  const handleChange = e => {\n    setCredentials({ ...credentials, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-900 text-white\">\n      <div className=\"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-lg shadow-lg\">\n        <h1 className=\"text-3xl font-bold text-center\">Rejestracja</h1>\n        {error && <p className=\"text-red-500 text-center\">{error}</p>}\n        <form onSubmit={handleRegister} className=\"space-y-6\">\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            onChange={handleChange}\n            className=\"w-full p-3 bg-gray-700 rounded\"\n            required\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Hasło\"\n            onChange={handleChange}\n            className=\"w-full p-3 bg-gray-700 rounded\"\n            required\n          />\n          <input\n            type=\"password\"\n            name=\"confirmPassword\"\n            placeholder=\"Potwierdź hasło\"\n            onChange={handleChange}\n            className=\"w-full p-3 bg-gray-700 rounded\"\n            required\n          />\n          <button\n            type=\"submit\"\n            className=\"w-full p-3 bg-blue-600 rounded font-bold hover:bg-blue-700\"\n          >\n            Zarejestruj\n          </button>\n        </form>\n        <div className=\"text-center\">\n          <a\n            onClick={() => navigate('login')}\n            className=\"font-medium text-blue-400 hover:text-blue-300 cursor-pointer\"\n          >\n            Masz już konto? Zaloguj się\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst AdminPanel = ({ navigate }) => {\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const { userRole } = useAppContext();\n\n  if (userRole !== 'admin') {\n    return <AccessDenied navigate={navigate} />;\n  }\n\n  const renderContent = () => {\n    switch (activeTab) {\n      case 'dashboard':\n        return <AdminDashboard />;\n      case 'products':\n        return <AdminProducts />;\n      case 'orders':\n        return <AdminOrders />;\n      default:\n        return <AdminDashboard />;\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto mt-24 p-4 text-white\">\n      <h1 className=\"text-4xl font-bold mb-8\">Panel Administratora</h1>\n      <div className=\"flex border-b border-gray-700 mb-8\">\n        <button\n          onClick={() => setActiveTab('dashboard')}\n          className={`py-2 px-4 ${activeTab === 'dashboard' ? 'border-b-2 border-blue-500 text-blue-400' : 'text-gray-400'}`}\n        >\n          Dashboard\n        </button>\n        <button\n          onClick={() => setActiveTab('products')}\n          className={`py-2 px-4 ${activeTab === 'products' ? 'border-b-2 border-blue-500 text-blue-400' : 'text-gray-400'}`}\n        >\n          Produkty\n        </button>\n        <button\n          onClick={() => setActiveTab('orders')}\n          className={`py-2 px-4 ${activeTab === 'orders' ? 'border-b-2 border-blue-500 text-blue-400' : 'text-gray-400'}`}\n        >\n          Zamówienia\n        </button>\n      </div>\n      <div>{renderContent()}</div>\n    </div>\n  );\n};\n\nconst AdminDashboard = () => {\n  const [stats, setStats] = useState({\n    products: 0,\n    orders: 0,\n    users: 0,\n    revenue: 0,\n  });\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      const products = await getDocs(collection(db, 'products'));\n      const orders = await getDocs(collection(db, 'orders'));\n      const users = await getDocs(collection(db, 'users'));\n      const totalRevenue = orders.docs.reduce(\n        (acc, doc) => acc + doc.data().total,\n        0\n      );\n      setStats({\n        products: products.size,\n        orders: orders.size,\n        users: users.size,\n        revenue: totalRevenue,\n      });\n    };\n    fetchStats();\n  }, []);\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n      <div className=\"bg-gray-800 p-6 rounded-lg\">\n        <h3 className=\"text-gray-400\">Produkty</h3>\n        <p className=\"text-3xl font-bold\">{stats.products}</p>\n      </div>\n      <div className=\"bg-gray-800 p-6 rounded-lg\">\n        <h3 className=\"text-gray-400\">Zamówienia</h3>\n        <p className=\"text-3xl font-bold\">{stats.orders}</p>\n      </div>\n      <div className=\"bg-gray-800 p-6 rounded-lg\">\n        <h3 className=\"text-gray-400\">Użytkownicy</h3>\n        <p className=\"text-3xl font-bold\">{stats.users}</p>\n      </div>\n      <div className=\"bg-gray-800 p-6 rounded-lg\">\n        <h3 className=\"text-gray-400\">Przychód</h3>\n        <p className=\"text-3xl font-bold\">{stats.revenue.toFixed(2)} PLN</p>\n      </div>\n    </div>\n  );\n};\n\nconst AdminProducts = () => {\n  const [products, setProducts] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const { addNotification } = useAppContext();\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    setIsLoading(true);\n    const productsCol = query(collection(db, 'products'));\n    const snapshot = await getDocs(productsCol);\n    setProducts(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\n    setIsLoading(false);\n  };\n\n  const handleSave = async productData => {\n    setIsLoading(true);\n    try {\n      // Funkcja do czyszczenia pustych wartości, które nie są obsługiwane przez Firestore\n      const cleanData = data => {\n        const cleaned = {};\n        for (const key in data) {\n          if (\n            data[key] !== null &&\n            data[key] !== undefined &&\n            data[key] !== ''\n          ) {\n            cleaned[key] = data[key];\n          }\n        }\n        // Upewnij się, że imageUrls jest tablicą\n        cleaned.imageUrls = Array.isArray(cleaned.imageUrls)\n          ? cleaned.imageUrls\n          : [];\n        return cleaned;\n      };\n\n      const finalData = cleanData(productData);\n\n      if (editingProduct) {\n        await api.updateProduct(editingProduct.id, finalData);\n        addNotification('Produkt zaktualizowany!', 'success');\n      } else {\n        await api.addProduct(finalData);\n        addNotification('Produkt dodany!', 'success');\n      }\n      fetchProducts();\n    } catch (error) {\n      console.error('Błąd zapisu produktu:', error);\n      addNotification(`Błąd zapisu: ${error.message}`, 'error');\n    }\n    setIsModalOpen(false);\n    setEditingProduct(null);\n    setIsLoading(false);\n  };\n\n  const handleDelete = async id => {\n    if (window.confirm('Czy na pewno chcesz usunąć ten produkt?')) {\n      try {\n        // Najpierw usuń powiązane obrazy\n        const productToDelete = products.find(p => p.id === id);\n        if (productToDelete && productToDelete.imageUrls) {\n          for (const url of productToDelete.imageUrls) {\n            await api.deleteImage(url);\n          }\n        }\n        // Następnie usuń produkt\n        await api.deleteProduct(id);\n        addNotification('Produkt usunięty!', 'success');\n        fetchProducts();\n      } catch (error) {\n        console.error('Błąd usuwania produktu:', error);\n        addNotification(`Błąd usuwania: ${error.message}`, 'error');\n      }\n    }\n  };\n\n  const handleEdit = product => {\n    setEditingProduct(product);\n    setIsModalOpen(true);\n  };\n\n  const handleAddNew = () => {\n    setEditingProduct(null);\n    setIsModalOpen(true);\n  };\n\n  if (isLoading) return <LoadingScreen />;\n\n  return (\n    <div>\n      <button\n        onClick={handleAddNew}\n        className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4\"\n      >\n        Dodaj nowy produkt\n      </button>\n      <div className=\"bg-gray-800 rounded-lg overflow-hidden\">\n        <table className=\"w-full text-left\">\n          <thead className=\"bg-gray-700\">\n            <tr>\n              <th className=\"p-4\">Nazwa</th>\n              <th className=\"p-4\">Kategoria</th>\n              <th className=\"p-4\">Cena</th>\n              <th className=\"p-4\">Akcje</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map(product => (\n              <tr key={product.id} className=\"border-b border-gray-700\">\n                <td className=\"p-4\">{product.name}</td>\n                <td className=\"p-4\">{product.category}</td>\n                <td className=\"p-4\">{product.price} PLN</td>\n                <td className=\"p-4\">\n                  <button\n                    onClick={() => handleEdit(product)}\n                    className=\"text-blue-400 hover:text-blue-300 mr-2\"\n                  >\n                    Edytuj\n                  </button>\n                  <button\n                    onClick={() => handleDelete(product.id)}\n                    className=\"text-red-500 hover:text-red-400\"\n                  >\n                    Usuń\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      {isModalOpen && (\n        <ProductEditModal\n          product={editingProduct}\n          onSave={handleSave}\n          onClose={() => setIsModalOpen(false)}\n        />\n      )}\n    </div>\n  );\n};\n\nconst ProductEditModal = ({ product, onSave, onClose }) => {\n  const [productData, setProductData] = useState(\n    product || {\n      name: '',\n      price: '',\n      category: '',\n      brand: '',\n      description: '',\n      imageUrls: [],\n      bestseller: false,\n    }\n  );\n  const [isUploading, setIsUploading] = useState(false);\n  const { addNotification } = useAppContext();\n\n  const handleChange = e => {\n    const { name, value, type, checked } = e.target;\n    setProductData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value,\n    }));\n  };\n\n  const handlePriceChange = e => {\n    setProductData(prev => ({\n      ...prev,\n      price: parseFloat(e.target.value) || 0,\n    }));\n  };\n\n  const handleImageUpload = async e => {\n    const file = e.target.files[0];\n    if (file) {\n      setIsUploading(true);\n      try {\n        const url = await api.uploadImage(file);\n        setProductData(prev => ({\n          ...prev,\n          imageUrls: [...(prev.imageUrls || []), url],\n        }));\n        addNotification('Zdjęcie dodane!', 'success');\n      } catch (error) {\n        addNotification('Błąd przesyłania zdjęcia.', 'error');\n      }\n      setIsUploading(false);\n    }\n  };\n\n  const handleImageDelete = async urlToDelete => {\n    if (window.confirm('Czy na pewno chcesz usunąć to zdjęcie?')) {\n      try {\n        await api.deleteImage(urlToDelete);\n        setProductData(prev => ({\n          ...prev,\n          imageUrls: prev.imageUrls.filter(url => url !== urlToDelete),\n        }));\n        addNotification('Zdjęcie usunięte!', 'success');\n      } catch (error) {\n        console.error('Błąd usuwania zdjęcia:', error);\n        addNotification('Błąd usuwania zdjęcia.', 'error');\n      }\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(productData);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50\">\n      <div className=\"bg-gray-800 text-white rounded-lg p-8 w-full max-w-2xl max-h-screen overflow-y-auto\">\n        <h2 className=\"text-2xl font-bold mb-6\">\n          {product ? 'Edytuj produkt' : 'Dodaj produkt'}\n        </h2>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <input\n            name=\"name\"\n            value={productData.name}\n            onChange={handleChange}\n            placeholder=\"Nazwa\"\n            className=\"w-full p-2 bg-gray-700 rounded\"\n          />\n          <input\n            name=\"price\"\n            type=\"number\"\n            value={productData.price}\n            onChange={handlePriceChange}\n            placeholder=\"Cena\"\n            className=\"w-full p-2 bg-gray-700 rounded\"\n          />\n          <input\n            name=\"category\"\n            value={productData.category}\n            onChange={handleChange}\n            placeholder=\"Kategoria\"\n            className=\"w-full p-2 bg-gray-700 rounded\"\n          />\n          <input\n            name=\"brand\"\n            value={productData.brand}\n            onChange={handleChange}\n            placeholder=\"Marka\"\n            className=\"w-full p-2 bg-gray-700 rounded\"\n          />\n          <textarea\n            name=\"description\"\n            value={productData.description}\n            onChange={handleChange}\n            placeholder=\"Opis\"\n            className=\"w-full p-2 bg-gray-700 rounded h-24\"\n          />\n\n          <div>\n            <label className=\"block mb-2\">Zdjęcia:</label>\n            <div className=\"grid grid-cols-3 gap-2 mb-2\">\n              {(productData.imageUrls || []).map(url => (\n                <div key={url} className=\"relative group\">\n                  <img\n                    src={url}\n                    alt=\"product\"\n                    className=\"w-full h-24 object-cover rounded\"\n                  />\n                  <button\n                    onClick={() => handleImageDelete(url)}\n                    type=\"button\"\n                    className=\"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100\"\n                  >\n                    <Trash2 size={14} />\n                  </button>\n                </div>\n              ))}\n            </div>\n            <input\n              type=\"file\"\n              onChange={handleImageUpload}\n              className=\"w-full text-sm\"\n            />\n            {isUploading && <p>Przesyłanie...</p>}\n          </div>\n\n          <div className=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              id=\"bestseller\"\n              name=\"bestseller\"\n              checked={productData.bestseller}\n              onChange={handleChange}\n              className=\"mr-2\"\n            />\n            <label htmlFor=\"bestseller\">Bestseller</label>\n          </div>\n\n          <div className=\"flex justify-end space-x-4 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"py-2 px-4 bg-gray-600 rounded\"\n            >\n              Anuluj\n            </button>\n            <button type=\"submit\" className=\"py-2 px-4 bg-blue-600 rounded\">\n              Zapisz\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst AdminOrders = () => {\n  const [orders, setOrders] = useState([]);\n\n  useEffect(() => {\n    const fetchOrders = async () => {\n      const fetchedOrders = await api.fetchOrders();\n      setOrders(fetchedOrders);\n    };\n    fetchOrders();\n  }, []);\n\n  const handleStatusChange = async (orderId, newStatus) => {\n    await api.updateOrderStatus(orderId, newStatus);\n    setOrders(prev =>\n      prev.map(o => (o.id === orderId ? { ...o, status: newStatus } : o))\n    );\n  };\n\n  return (\n    <div className=\"bg-gray-800 rounded-lg overflow-hidden\">\n      <table className=\"w-full text-left\">\n        <thead className=\"bg-gray-700\">\n          <tr>\n            <th className=\"p-4\">ID Zamówienia</th>\n            <th className=\"p-4\">Klient</th>\n            <th className=\"p-4\">Data</th>\n            <th className=\"p-4\">Suma</th>\n            <th className=\"p-4\">Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          {orders.map(order => (\n            <tr key={order.id} className=\"border-b border-gray-700\">\n              <td className=\"p-4\">{order.id.slice(0, 8)}...</td>\n              <td className=\"p-4\">{order.shippingInfo.name}</td>\n              <td className=\"p-4\">\n                {new Date(order.createdAt.seconds * 1000).toLocaleDateString()}\n              </td>\n              <td className=\"p-4\">{order.total.toFixed(2)} PLN</td>\n              <td className=\"p-4\">\n                <select\n                  value={order.status}\n                  onChange={e => handleStatusChange(order.id, e.target.value)}\n                  className=\"bg-gray-700 p-1 rounded\"\n                >\n                  <option>Nowe</option>\n                  <option>W trakcie realizacji</option>\n                  <option>Wysłane</option>\n                  <option>Zakończone</option>\n                  <option>Anulowane</option>\n                </select>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nconst HeroSection = ({ navigate }) => (\n  <section\n    className=\"relative h-screen bg-cover bg-center flex flex-col items-center justify-center text-white\"\n    style={{ backgroundImage: `url(${heroImageUrl})` }}\n  >\n    <div className=\"absolute inset-0 bg-black opacity-50\"></div>\n    <div className=\"relative z-10 text-center container mx-auto px-4\">\n      <motion.h1\n        initial={{ opacity: 0, y: -50 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 1 }}\n        className=\"text-4xl md:text-6xl font-extrabold mb-4\"\n      >\n        Energia dla Twojej podróży\n      </motion.h1>\n      <motion.p\n        initial={{ opacity: 0, y: 50 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 1, delay: 0.5 }}\n        className=\"text-lg md:text-xl mb-8\"\n      >\n        Najwyższej jakości ładowarki i akcesoria do pojazdów elektrycznych.\n      </motion.p>\n      <motion.button\n        whileHover={{ scale: 1.05 }}\n        whileTap={{ scale: 0.95 }}\n        onClick={() => navigate('products')}\n        className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300\"\n      >\n        Odkryj produkty\n      </motion.button>\n    </div>\n  </section>\n);\n\nexport default function App() {\n  const [page, setPage] = useState('home');\n  const [pageData, setPageData] = useState(null);\n  const [user, setUser] = useState(null);\n  const [userRole, setUserRole] = useState(null);\n  const [cart, setCart] = useState([]);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const [orderDetails, setOrderDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const notificationId = useRef(0);\n\n  // Ładowanie danych i nasłuchiwanie stanu autentykacji\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async currentUser => {\n      setUser(currentUser);\n      if (currentUser) {\n        const userDocRef = doc(db, 'users', currentUser.uid);\n        const userDoc = await getDoc(userDocRef);\n\n        if (userDoc.exists()) {\n          // Użytkownik istnieje, wczytaj jego rolę\n          setUserRole(userDoc.data().role);\n        } else {\n          // Nie twórz dokumentu tutaj, aby uniknąć nadpisywania ról.\n          // Tworzenie dokumentu jest teraz obsługiwane w `handleRegister` i `handleGoogleLogin`.\n          // Warunek wyścigu może oznaczać, że dokument nie jest od razu dostępny.\n          // Domyślne ustawienie \"user\" lokalnie jest bezpieczne.\n          setUserRole('user');\n        }\n      } else {\n        setUserRole(null);\n      }\n      loadInitialData(); // Przeładuj dane po zmianie użytkownika\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const loadInitialData = async () => {\n    setIsLoading(true);\n    const [productsData, categoriesData] = await Promise.all([\n      api.fetchProducts(),\n      api.fetchCategories(),\n    ]);\n    setProducts(productsData);\n    setCategories(categoriesData);\n    setIsLoading(false);\n  };\n\n  // Obsługa koszyka\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      setCart(JSON.parse(savedCart));\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }, [cart]);\n\n  const addNotification = (message, type = 'success') => {\n    const id = notificationId.current++;\n    setNotifications(prev => [...prev, { id, message, type }]);\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(note => note.id !== id));\n    }, 3000);\n  };\n\n  const navigate = (newPage, data = null) => {\n    setPage(newPage);\n    setPageData(data);\n    window.scrollTo(0, 0);\n    setIsMobileMenuOpen(false); // Zamknij menu mobilne przy nawigacji\n  };\n\n  const addToCart = (product, quantity = 1) => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(item => item.id === product.id);\n      if (existingItem) {\n        return prevCart.map(item =>\n          item.id === product.id\n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n      }\n      return [...prevCart, { ...product, quantity }];\n    });\n    addNotification(`${product.name} dodano do koszyka!`, 'success');\n  };\n\n  const updateCartQuantity = (productId, newQuantity) => {\n    if (newQuantity < 1) {\n      removeFromCart(productId);\n    } else {\n      setCart(\n        cart.map(item =>\n          item.id === productId ? { ...item, quantity: newQuantity } : item\n        )\n      );\n    }\n  };\n\n  const removeFromCart = productId => {\n    setCart(cart.filter(item => item.id !== productId));\n  };\n\n  const clearCart = () => setCart([]);\n  const cartItemCount = cart.reduce((acc, item) => acc + item.quantity, 0);\n\n  const handleLogout = async () => {\n    await signOut(auth);\n    addNotification('Wylogowano pomyślnie.', 'success');\n    navigate('home');\n  };\n\n  const renderPage = () => {\n    switch (page) {\n      case 'home':\n        return (\n          <HomePage\n            products={products}\n            categories={categories}\n            navigate={navigate}\n          />\n        );\n      case 'category':\n        return (\n          <CategoryPage\n            navigate={navigate}\n            products={products}\n            categoryName={pageData}\n          />\n        );\n      case 'product':\n        return <ProductPage navigate={navigate} productId={pageData} />;\n      case 'cart':\n        return <CartPage navigate={navigate} />;\n      case 'checkout':\n        return <CheckoutPage navigate={navigate} />;\n      case 'order-confirmation':\n        return (\n          <OrderConfirmationPage\n            navigate={navigate}\n            orderDetails={orderDetails}\n          />\n        );\n      case 'login':\n        return (\n          <LoginPage navigate={navigate} addNotification={addNotification} />\n        );\n      case 'register':\n        return (\n          <RegisterPage navigate={navigate} addNotification={addNotification} />\n        );\n      case 'admin':\n        return <AdminPanel navigate={navigate} />;\n      default:\n        return (\n          <HomePage\n            products={products}\n            categories={categories}\n            navigate={navigate}\n          />\n        );\n    }\n  };\n\n  const contextValue = {\n    user,\n    userRole,\n    cart,\n    addToCart,\n    updateCartQuantity,\n    removeFromCart,\n    clearCart,\n    cartItemCount,\n    navigate,\n    addNotification,\n    handleLogout,\n    setUser,\n    setOrderDetails,\n  };\n\n  return (\n    <AppContext.Provider value={contextValue}>\n      <div className=\"bg-gray-900 min-h-screen font-sans\">\n        {isLoading && <LoadingScreen />}\n        <NotificationCenter notifications={notifications} />\n        <Header\n          isMobileMenuOpen={isMobileMenuOpen}\n          setIsMobileMenuOpen={setIsMobileMenuOpen}\n        />\n\n        <AnimatePresence mode=\"wait\">\n          <motion.main\n            key={page}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.3 }}\n          >\n            {renderPage()}\n          </motion.main>\n        </AnimatePresence>\n\n        <AnimatePresence>\n          {isMobileMenuOpen && (\n            <motion.div\n              initial={{ x: '100%' }}\n              animate={{ x: 0 }}\n              exit={{ x: '100%' }}\n              transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n              className=\"fixed top-0 right-0 h-full w-64 bg-gray-800 z-30 p-6 md:hidden\"\n            >\n              <nav className=\"flex flex-col space-y-4 text-white\">\n                <a\n                  onClick={() => navigate('category', 'Ładowarki')}\n                  className=\"hover:text-blue-400\"\n                >\n                  Ładowarki\n                </a>\n                <a\n                  onClick={() => navigate('category', 'Adaptery')}\n                  className=\"hover:text-blue-400\"\n                >\n                  Adaptery\n                </a>\n                <a\n                  onClick={() => navigate('category', 'Akcesoria')}\n                  className=\"hover:text-blue-400\"\n                >\n                  Akcesoria\n                </a>\n                <a\n                  onClick={() => navigate('category', 'Baterie')}\n                  className=\"hover:text-blue-400\"\n                >\n                  Baterie\n                </a>\n                <hr className=\"border-gray-700\" />\n                <a\n                  onClick={() => navigate('cart')}\n                  className=\"hover:text-blue-400\"\n                >\n                  Koszyk ({cartItemCount})\n                </a>\n                {user ? (\n                  <>\n                    {userRole === 'admin' && (\n                      <a\n                        onClick={() => navigate('admin')}\n                        className=\"hover:text-blue-400\"\n                      >\n                        Panel Admina\n                      </a>\n                    )}\n                    <a onClick={handleLogout} className=\"hover:text-blue-400\">\n                      Wyloguj\n                    </a>\n                  </>\n                ) : (\n                  <>\n                    <a\n                      onClick={() => navigate('login')}\n                      className=\"hover:text-blue-400\"\n                    >\n                      Zaloguj się\n                    </a>\n                    <a\n                      onClick={() => navigate('register')}\n                      className=\"hover:text-blue-400\"\n                    >\n                      Zarejestruj się\n                    </a>\n                  </>\n                )}\n              </nav>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        <Footer />\n      </div>\n    </AppContext.Provider>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}